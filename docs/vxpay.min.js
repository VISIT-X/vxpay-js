!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VX",[],t):"object"==typeof exports?exports.VX=t():e.VX=t()}(window,function(){return function(e){var t=window.webpackHotUpdateVX;window.webpackHotUpdateVX=function(e,n){!function(e,t){if(!v[e]||!m[e])return;for(var n in m[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--d&&0===b&&S()}(e,n),t&&t(e,n)};var n,o=!0,r="9fb4c8dfe851da35b9c8",i=1e4,u={},a=[],c=[];function s(e){var t=P[e];if(!t)return A;var o=function(o){return t.hot.active?(P[o]?-1===P[o].parents.indexOf(e)&&P[o].parents.push(e):(a=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),a=[]),A(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===l&&p("prepare"),b++,A.e(e).then(t,function(e){throw t(),e});function t(){b--,"prepare"===l&&(g[e]||E(e),0===b&&0===d&&S())}},o.t=function(e,t){return 1&t&&(e=o(e)),A.t(e,-2&t)},o}var f=[],l="idle";function p(e){l=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var h,y,_,d=0,b=0,g={},m={},v={};function O(e){return+e+""===e?+e:e}function w(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return o=e,p("check"),function(e){return e=e||1e4,new Promise(function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=A.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=e,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)t();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var e=JSON.parse(o.responseText)}catch(e){return void n(e)}t(e)}}})}(i).then(function(e){if(!e)return p("idle"),null;m={},g={},v=e.c,_=e.h,p("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});y={};return E(1),"prepare"===l&&0===b&&0===d&&S(),t})}function E(e){v[e]?(m[e]=!0,d++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=A.p+""+e+"."+r+".hot-update.js",t.appendChild(n)}(e)):g[e]=!0}function S(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then(function(){return T(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(O(n));e.resolve(t)}}function T(t){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var n,o,i,c,s;function f(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),i=r.id,u=r.chain;if((c=P[i])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:u,moduleId:i};for(var a=0;a<c.parents.length;a++){var s=c.parents[a],f=P[s];if(f){if(f.hot._declinedDependencies[i])return{type:"declined",chain:u.concat([s]),moduleId:i,parentId:s};-1===t.indexOf(s)&&(f.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),h(n[s],[i])):(delete n[s],t.push(s),o.push({chain:u.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var d={},b=[],g={},m=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var w in y)if(Object.prototype.hasOwnProperty.call(y,w)){var E;s=O(w);var S=!1,T=!1,k=!1,I="";switch((E=y[w]?f(s):{type:"disposed",moduleId:w}).chain&&(I="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(S=new Error("Aborted because of self decline: "+E.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(S=new Error("Aborted because "+s+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(E),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),k=!0;break;default:throw new Error("Unexception type "+E.type)}if(S)return p("abort"),Promise.reject(S);if(T)for(s in g[s]=y[s],h(b,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,s)&&(d[s]||(d[s]=[]),h(d[s],E.outdatedDependencies[s]));k&&(h(b,[E.moduleId]),g[s]=m)}var N,C=[];for(o=0;o<b.length;o++)s=b[o],P[s]&&P[s].hot._selfAccepted&&C.push({module:s,errorHandler:P[s].hot._selfAccepted});p("dispose"),Object.keys(v).forEach(function(e){!1===v[e]&&function(e){delete installedChunks[e]}(e)});for(var j,R,L=b.slice();L.length>0;)if(s=L.pop(),c=P[s]){var F={},V=c.hot._disposeHandlers;for(i=0;i<V.length;i++)(n=V[i])(F);for(u[s]=F,c.hot.active=!1,delete P[s],delete d[s],i=0;i<c.children.length;i++){var D=P[c.children[i]];D&&((N=D.parents.indexOf(s))>=0&&D.parents.splice(N,1))}}for(s in d)if(Object.prototype.hasOwnProperty.call(d,s)&&(c=P[s]))for(R=d[s],i=0;i<R.length;i++)j=R[i],(N=c.children.indexOf(j))>=0&&c.children.splice(N,1);for(s in p("apply"),r=_,g)Object.prototype.hasOwnProperty.call(g,s)&&(e[s]=g[s]);var M=null;for(s in d)if(Object.prototype.hasOwnProperty.call(d,s)&&(c=P[s])){R=d[s];var U=[];for(o=0;o<R.length;o++)if(j=R[o],n=c.hot._acceptedDependencies[j]){if(-1!==U.indexOf(n))continue;U.push(n)}for(o=0;o<U.length;o++){n=U[o];try{n(R)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:R[o],error:e}),t.ignoreErrored||M||(M=e)}}}for(o=0;o<C.length;o++){var H=C[o];s=H.module,a=[s];try{A(s)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:n,originalError:e}),t.ignoreErrored||M||(M=n),M||(M=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||M||(M=e)}}return M?(p("fail"),Promise.reject(M)):(p("idle"),new Promise(function(e){e(b)}))}var P={};function A(t){if(P[t])return P[t].exports;var o=P[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:w,apply:T,status:function(e){if(!e)return l;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:u[e]};return n=void 0,t}(t),parents:(c=a,a=[],c),children:[]};return e[t].call(o.exports,o,o.exports,s(t)),o.l=!0,o.exports}return A.m=e,A.c=P,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)A.d(n,o,function(t){return e[t]}.bind(null,o));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="",A.h=function(){return r},s(0)(A.s=0)}({"./node_modules/is-mobile/index.js":function(e,t,n){"use strict";e.exports=i,e.exports.isMobile=i;var o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function i(e,t){return t||null===e||"object"!=typeof e||(t=e),e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"==typeof e&&(t||(t={}),t.tablet?r.test(e):o.test(e))}},"./src/main.js":function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,null,[{key:"getAvailable",value:function(){return[e.LANDING_PAGE,e.CULT_BABES,e.TV_CHAT,e.SLP,e.VXONE_LP,e.VXONE]}},{key:"getDefault",value:function(){return e.VXONE}}]),e}();r.LANDING_PAGE="lp",r.CULT_BABES="cultbabes",r.TV_CHAT="tvchat",r.SLP="slp",r.VXONE_LP="vxonelp",r.VXONE="vxone";var i=r;function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(e,null,[{key:"getDefault",value:function(){return e.DE}},{key:"getAvailable",value:function(){return[e.DE,e.EN,e.NL]}}]),e}();a.DE="DE",a.EN="EN",a.NL="NL";var c=a;function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,null,[{key:"getAllowed",value:function(){return[e.AVS,e.LIMIT,e.LOGIN,e.CHARGE,e.OP_COMPENSATION,e.PASSWORD_RESET,e.PASSWORD_LOST,e.PROMOCODE,e.SCRATCH_CARD,e.TRIAL_VIP_ABO,e.VIP_ABO,e.VXTV_ABO,e.SETTINGS,e.CHANGE_CARD,e.CHANGE_LS,e.ONE_CLICK,e.AUTO_RECHARGE,e.SIGNUP]}},{key:"getDefault",value:function(){return e.CHARGE}}]),e}();f.AVS="avs",f.LIMIT="limit",f.LOGIN="login",f.SIGNUP="signup",f.CHARGE="moneycharge",f.OP_COMPENSATION="opcompensation",f.AUTO_RECHARGE="autorecharge",f.PASSWORD_RESET="pwdreset",f.PASSWORD_LOST="pwdlost",f.PROMOCODE="promocode",f.SCRATCH_CARD="scratchcard",f.TRIAL_VIP_ABO="trialvipabo",f.VIP_ABO="vipabo",f.VXTV_ABO="vxtvabo",f.SETTINGS="vxsettings",f.CHANGE_CARD="changecc",f.CHANGE_LS="changels",f.ONE_CLICK="oneclick";var l=f;function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._login=e.YES,this._showHeader=e.YES,this._showTeaser=e.YES,this._showFooter=e.YES,this._support=e.YES,this._showOAuth=e.YES,this._showNL=e.YES,this._neutralHeader=e.NO,this._teaserBonus=e.NO,this._showThank=e.NO,this._showLogo=e.NO,this._showTeaserBar=e.NO,this._parentInFrame=e.NO}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(e,[{key:"getOptions",value:function(){return{login:this._login,showHeader:this._showHeader,showTeaser:this._showTeaser,showFooter:this._showFooter,neutralHeader:this._neutralHeader,teaserBonus:this._teaserBonus,support:this._support,showOAuth:this._showOAuth,showNL:this._showNL,showThank:this._showThank,showLogo:this._showLogo,showTeaserBar:this._showTeaserBar,parentInFrame:this._parentInFrame}}},{key:"parentInFrame",get:function(){return this._parentInFrame},set:function(t){e._throwOnInvalid(t),this._parentInFrame=t}},{key:"login",get:function(){return this._login},set:function(t){e._throwOnInvalid(t),this._login=t}},{key:"showHeader",get:function(){return this._showHeader},set:function(t){e._throwOnInvalid(t),this._showHeader=t}},{key:"showTeaser",get:function(){return this._showTeaser},set:function(t){e._throwOnInvalid(t),this._showTeaser=t}},{key:"showFooter",get:function(){return this._showFooter},set:function(t){e._throwOnInvalid(t),this._showFooter=t}},{key:"neutralHeader",get:function(){return this._neutralHeader},set:function(t){e._throwOnInvalid(t),this._neutralHeader=t}},{key:"teaserBonus",get:function(){return this._teaserBonus},set:function(t){e._throwOnInvalid(t),this._teaserBonus=t}},{key:"support",get:function(){return this._support},set:function(t){e._throwOnInvalid(t),this._support=t}},{key:"showOAuth",get:function(){return this._showOAuth},set:function(t){e._throwOnInvalid(t),this._showOAuth=t}},{key:"showNL",get:function(){return this._showNL},set:function(t){e._throwOnInvalid(t),this._showNL=t}},{key:"showThank",get:function(){return this._showThank},set:function(t){e._throwOnInvalid(t),this._showThank=t}},{key:"showLogo",get:function(){return this._showLogo},set:function(t){e._throwOnInvalid(t),this._showLogo=t}},{key:"showTeaserBar",get:function(){return this._showTeaserBar},set:function(t){e._throwOnInvalid(t),this._showTeaserBar=t}}],[{key:"_throwOnInvalid",value:function(e){if(!g.isModalConfValOk(e))throw new TypeError("Value not allowed. Try one of: VXPayModalConfig.YES, VXPayModalConfig.NO")}},{key:"getAllowed",value:function(){return[e.YES,e.NO]}}]),e}();h.YES=1,h.NO=0;var y=h;function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._urlImpl=void 0===t?window.URL:t}return function(e,t,n){t&&_(e.prototype,t),n&&_(e,n)}(e,[{key:"generate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=new this._urlImpl(e);if(o.hash="",t)for(var r in t)void 0!==t[r]&&o.searchParams.append(r,t[r]);if(n)for(var i in n){void 0!==n["_"===i.charAt(1)?i.substr(1):i]&&o.searchParams.append("mc["+i+"]",n[i])}return o.toString()}},{key:"getQueryParam",value:function(e,t){try{return new this._urlImpl(e).searchParams[t]}catch(e){return""}}},{key:"isValid",value:function(e){try{return new this._urlImpl(e),!0}catch(e){return!1}}}]),e}();function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(e,null,[{key:"isUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new d(t).isValid(e)}},{key:"isLangOk",value:function(e){return-1!==c.getAvailable().indexOf(e)}},{key:"isEnvOk",value:function(e){return-1!==i.getAvailable().indexOf(e)}},{key:"isFlowOk",value:function(e){return-1!==l.getAllowed().indexOf(e)}},{key:"isModalConfValOk",value:function(e){return-1!==y.getAllowed().indexOf(e)}}]),e}();function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(e,null,[{key:"addEvent",value:function(t,n,o){n.addEventListener?n.addEventListener(t,o,{passive:!0}):n.attachEvent?n.attachEvent(e.IE_PREFIX+t,o):n[t]=o}},{key:"removeEvent",value:function(t,n,o){n.removeEventListener?n.removeEventListener(t,o,{passive:!0}):n.detachEvent?n.detachEvent(e.IE_PREFIX+t,o):n[t]=null}}]),e}();v.IE_PREFIX="on";var O=v;function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var E=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._window=t,this._jQuery=n,this._fx=o}return function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(e,[{key:"_hasJQuery",value:function(){return void 0!==this._jQuery&&void 0!==this._jQuery.Animation}},{key:"_hasMooTools",value:function(){return void 0!==this._fx&&void 0!==this._fx.Scroll}},{key:"scrollTo",value:function(t){try{if(this._hasJQuery()){var n=e.OPTIONS_JQUERY;return n.scrollTop=t,this._jQuery("html, body").animate(n,e.ANIMATION_DURATION)}return this._hasMooTools()?new this._fx.Scroll(this._window,e.OPTIONS_MTOOLS).start(0,t):this._window.scrollTo(0,t)}catch(e){}}},{key:"window",get:function(){return this._window}},{key:"jQuery",get:function(){return this._jQuery}},{key:"fx",get:function(){return this._fx}}],[{key:"getClientHeight",value:function(e){return e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight}},{key:"isStyleAttributeSuppored",value:function(e,t,n){var o=!1;try{e.style[t]=n,o=e.style[t]===n}catch(e){}return o}}]),e}();E.TAG_IFRAME="iframe",E.OPTIONS_JQUERY={scrollTop:0},E.OPTIONS_MTOOLS={duration:E.ANIMATION_DURATION},E.ANIMATION_DURATION=500;var S=E;function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N=function(e){function t(e,n,o){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?I(e):t}(this,A(t).call(this)),"function"!=typeof e.createElement)throw new TypeError("An iFrame can only be build on a valid Document object!");if(!g.isUrl(n,e.defaultView.URL))throw new TypeError("Please provide a valid URL! "+n);if(!o||0===o.length)throw new TypeError("Please provide a valid frame ID!");if(r._loaded=!1,r._frame=e.createElement(S.TAG_IFRAME),r._frame.src=n,r._frame.id=o,r._frame.onload=r._markLoaded.bind(I(I(r))),null!==i)for(var u in i)r._frame.style.setProperty(u,i[u]);return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,O),function(e,t,n){t&&P(e.prototype,t),n&&P(e,n)}(t,[{key:"triggerLoad",value:function(){throw new Error("Method triggerLoad should be implemented in child class!")}},{key:"_markLoaded",value:function(){this._loaded=!0}},{key:"maximize",value:function(){return this._frame.style.width=t.MAX_WIDTH,this._frame.style.height=t.MAX_HEIGHT,this._frame.style.left=t.MAX_LEFT,this._frame.style.top=t.MAX_TOP,this._frame.style.marginLeft=t.MAX_LEFT_MARGIN,this}},{key:"message",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ORIGIN_ALL;return this._frame.contentWindow.postMessage(e.toString(),n),this}},{key:"show",value:function(){this._frame.style.display=t.DISPLAY_BLOCK}},{key:"hide",value:function(){this._frame.style.display=t.DISPLAY_NONE}},{key:"loaded",get:function(){return this._loaded}},{key:"frame",get:function(){return this._frame}},{key:"url",set:function(e){this._frame.src=e},get:function(){return this._frame.src}}]),t}();N.EVENT_MESSAGE="message",N.EVENT_LOAD="load",N.EVENT_UNLOAD="beforeunload",N.POSITION_ABSOLUTE="absolute",N.POSITION_FIXED="fixed",N.DISPLAY_BLOCK="block",N.DISPLAY_NONE="none",N.MAX_HEIGHT="100vh",N.MAX_WIDTH="100%",N.MAX_TOP="0",N.MAX_LEFT="0",N.MAX_LEFT_MARGIN="0",N.ORIGIN_VX="https://www.visit-x.net",N.ORIGIN_ALL="*";var C=N,j=n("./node_modules/is-mobile/index.js"),R=n.n(j);function L(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userAgent=t}return function(e,t,n){t&&L(e.prototype,t),n&&L(e,n)}(e,[{key:"isMobile",value:function(){return R()(this._userAgent)}},{key:"userAgent",get:function(){return this._userAgent},set:function(e){this._userAgent=e}}]),e}();function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var D=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._env=i.getDefault(),this._logging=!1,this._flow=l.getDefault(),this._language=c.getDefault(),this._urls={abg:e.ABG_DEFAULT.replace("{language}",this._language),privacy:e.PRIVACY_DEFAULT.replace("{language}",this._language),ruri:"",suri:"",purl:""},this._pfm="",this._enableTab=new F(t.navigator.userAgent||"").isMobile(),this._host="",this._token="",this._promoCode="",this._wmId="",this._wmSubRef="",this._wmToken="",this._adtv="",this._subRef="",this._apiVersion=3,this._modalConfig=void 0===n?new y:n,this._window=t,this._helper=new d(t.URL)}return function(e,t,n){t&&V(e.prototype,t),n&&V(e,n)}(e,[{key:"getPaymentFrameUrl",value:function(){return this._helper.generate(C.ORIGIN_VX+"/VXPAY-V"+this._apiVersion+"/",this.getOptions(),this._modalConfig.getOptions())}},{key:"getOptions",value:function(){return{agbUrl:this.abgUrl,privacyUrl:this.privacyUrl,environment:this._env,flow:this._flow,lang:this._language,pfm:this._pfm,w:this._wmId,ws:this._wmSubRef,wt:this._wmToken,adtv:this._adtv,sub:this._subRef,enableTab:this._enableTab?1:0,option:"",pc:this._promoCode,tt:this._token,ruri:this._urls.ruri,host:this._host}}},{key:"getAdditionalOptions",value:function(){var e={ref:this._wmId,ruri:this._urls.ruri,surl:this._urls.suri,aurl:this.abgUrl,prurl:this.privacyUrl,purl:this._urls.purl};return Object.assign({},e,this.modalConfig.getOptions())}},{key:"setTokenFromMessage",value:function(e){this._token=e.token}},{key:"merge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;Object.keys(t.getOptions()).forEach(function(n){var o=e.hasOwnProperty(n)&&void 0!==e[n];"lang"===n&&e.hasOwnProperty("language")?t[n]=e.language:o&&(t[n]=e[n])})}},{key:"updateFlow",value:function(e){this._flow=e.newFlow}},{key:"ruri",get:function(){return this._urls.ruri},set:function(e){this._urls.ruri=e}},{key:"suri",get:function(){return this._urls.suri}},{key:"purl",get:function(){return this._urls.purl}},{key:"window",get:function(){return this._window}},{key:"abgUrl",get:function(){return this._urls.abg},set:function(e){if(!g.isUrl(e))throw new Error("Invalid URL provided: "+e);this._urls.abg=e}},{key:"privacyUrl",get:function(){return this._urls.privacy},set:function(e){if(!g.isUrl(e))throw new Error("Invalid URL provided: "+e);this._urls.privacy=e}},{key:"env",get:function(){return this._env},set:function(e){if(!g.isEnvOk(e))throw new TypeError("Environment "+e+" is not supported. Please select one of "+i.getAvailable());this._env=e}},{key:"logging",get:function(){return this._logging},set:function(e){this._logging=e}},{key:"language",get:function(){return this._language.toUpperCase()},set:function(e){if(!g.isLangOk(e)){var t="Unsupported language: "+e.toString()+". Allowed: "+c.getAvailable().join(", ");throw new TypeError(t)}this._language=e}},{key:"flow",get:function(){return this._flow},set:function(e){if(!g.isFlowOk(e)){var t="Flow not allowed: "+e.toString()+". Select one of: "+l.getAllowed().join(", ");throw new TypeError(t)}this._flow=e}},{key:"host",get:function(){return this._host},set:function(e){this._host=e}},{key:"token",get:function(){return this._token},set:function(e){this._token=e}},{key:"promoCode",get:function(){return this._promoCode},set:function(e){this._promoCode=e}},{key:"wmId",get:function(){return this._wmId},set:function(e){this._wmId=e}},{key:"wmSubRef",get:function(){return this._wmSubRef},set:function(e){this._wmSubRef=e}},{key:"wmToken",get:function(){return this._wmToken},set:function(e){this._wmToken=e}},{key:"adtv",get:function(){return this._adtv},set:function(e){this._adtv=e}},{key:"subRef",get:function(){return this._subRef},set:function(e){this._subRef=e}},{key:"apiVersion",get:function(){return this._apiVersion},set:function(e){this._apiVersion=parseInt(e,10)}},{key:"modalConfig",get:function(){return this._modalConfig},set:function(e){if(!(e instanceof y))throw new TypeError("Modal config value should be instance of VXPayModalConfig!");this._modalConfig=e}},{key:"pfm",get:function(){return this._pfm},set:function(e){this._pfm=e}},{key:"enableTab",get:function(){return this._enableTab},set:function(e){this._enableTab=e}}]),e}();D.ABG_DEFAULT="https://www.visit-x.net/CAMS/{language}/Info/Zentrum.html?submod=AGB&track=Account",D.PRIVACY_DEFAULT="https://www.visit-x.net/CAMS/{language}/Info/Zentrum.html?submod=Datenschutz&track=Index";var M=D;function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var H=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=t||!1,this._container=[],this._window=n}return function(e,t,n){t&&U(e.prototype,t),n&&U(e,n)}(e,[{key:"log",value:function(){if(this.enabled)return void 0!==this._window?this._window.console.log.apply(this,arguments):void this._container.push({time:new Date,message:JSON.stringify(arguments)})}}]),e}();H.IN="<-- []",H.OUT="--\x3e []";var x=H;function G(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.isAction=!1}return function(e,t,n){t&&G(e.prototype,t),n&&G(e,n)}(e,[{key:"toString",value:function(){return JSON.stringify(this)}}]),e}();B.T_HOOK="modalbox-hook",B.T_SCROLL="modalbox-scrollto",B.T_SUCCESS="modalbox-success",B.T_IFR_CLOSE="modalbox-iframe-close",B.T_IFR_RDY="modalbox-iframe-ready",B.T_VIEW_RDY="modalbox-view-ready",B.T_TOKEN="modalbox-transfer-token",B.T_CONTENT="modalbox-content-loaded",B.T_SESSION="modalbox-init-session",B.T_PARAMS="modalbox-update-params",B.T_VISIBLE="modalbox-is-visible",B.T_INFO="modalbox-additional-info",B.T_ROUTE="modalbox-change-route",B.T_COOKIE="modalbox-response-hasLoginCookie",B.T_IS_LOGGED="modalbox-response-isLoggedIn",B.T_AVS="modalbox-response-getavsstatus",B.T_BALANCE="modalbox-response-getbalance",B.T_ABOS="modalbox-response-getactiveabos",B.T_LOGGED_OUT="modalbox-response-logout",B.TA_ABOS="modalbox-action-getactiveabos",B.TA_LOGOUT="modalbox-action-logout",B.TA_AVS="modalbox-action-getavsstatus",B.TA_IS_LOGGED="modalbox-action-isLoggedIn",B.TA_BALANCE="modalbox-action-getbalance",B.TT_PREFIX="transfer_token:";var X=B;function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=W(this,K(t).call(this,X.T_COOKIE))).hasCookie=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,X),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,Z(t).call(this,X.T_CONTENT))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,X),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.H_NA;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ne(this,oe(t).call(this,X.T_HOOK))).hook=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,X),t}();ie.H_NA="dummy-unknown",ie.H_FLOW="flowChanged",ie.H_LOGIN="login",ie.H_PAYMENT="payment",ie.H_SIGNUP="signup",ie.H_C_SETTINGS="comfortSettingsChanged",ie.H_E_VERIFIED="emailVerified",ie.H_E_NOT_VERIFIED="emailNotVerified",ie.H_PASS="passwordChanged";var ue=ie;function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ce(this,se(t).call(this,ue.H_FLOW))).oldFlow=n,e.newFlow=o,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,ue),t}();function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),he(this,ye(t).call(this,ue.H_LOGIN))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,ue),t}();function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,me(t).call(this,ue.H_PAYMENT))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(t,ue),t}();function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ee(this,Se(t).call(this,ue.H_SIGNUP))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,ue),t}();function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ke(this,Ie(t).call(this,ue.H_C_SETTINGS))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,ue),t}();function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Re(this,Le(t).call(this,ue.H_E_VERIFIED))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,ue),t}();function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t){return(He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(this,Ue(t).call(this,ue.H_E_NOT_VERIFIED))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&He(e,t)}(t,ue),t}();function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var We=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Be(this,Xe(t).call(this,ue.H_PASS))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(t,ue),t}();function Ke(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Qe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Ke(e.prototype,t),n&&Ke(e,n)}(e,null,[{key:"fromData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e||!e.hasOwnProperty("hook"))throw new TypeError("Invalid message format - no hook field");switch(e.hook){case ue.H_FLOW:return new le(e.prevFlow,e.flow);case ue.H_LOGIN:return new de;case ue.H_PAYMENT:return new Oe;case ue.H_SIGNUP:return new Pe;case ue.H_C_SETTINGS:return new Ce;case ue.H_E_VERIFIED:return new Ve;case ue.H_E_NOT_VERIFIED:return new xe;case ue.H_PASS:return new We;default:return new ue}}}]),e}();function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Je(this,qe(t).call(this,X.T_IFR_RDY))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,X),t}();function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tt(this,nt(t).call(this,X.T_VIEW_RDY))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,X),t}();function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var st=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ut(this,at(t).call(this,X.T_TOKEN))).token=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,X),t}();function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=lt(this,pt(t).call(this,X.T_IFR_CLOSE))).data=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,X),t}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,bt(t).call(this,X.T_VISIBLE))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,X),t}();function vt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Ot=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._balance=NaN,this._fsk18=!1,this._nickname="",this._userId=NaN,this._uhash=""}return function(e,t,n){t&&vt(e.prototype,t),n&&vt(e,n)}(e,[{key:"balance",get:function(){return this._balance},set:function(e){this._balance=e}},{key:"fsk18",get:function(){return this._fsk18},set:function(e){this._fsk18=e}},{key:"nickname",get:function(){return this._nickname},set:function(e){this._nickname=e}},{key:"userId",get:function(){return this._userId},set:function(e){this._userId=e}},{key:"uhash",get:function(){return this._uhash},set:function(e){this._uhash=e}}]),e}();function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.USER_DATA_STRUCT;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Et(this,St(t).call(this,X.T_SUCCESS))).user=new Ot,e.user.balance=n.availableMoney||0,e.user.nickname=n.screenname||"",e.user.fsk18=n.fsk18||!1,e.user.userId=n.userId||NaN,e.user.uhash=n.uhash||"",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(t,X),t}();Pt.USER_DATA_STRUCT={success:!0,userFromLogin:!1,userFromSignup:!1,flow:"login",hostId:null,screenname:"user123",userId:9876789087,isLoggedIn:!0,transferToken:"TT_7a9523c9-5555-4c48-5555-91cc2465f484",availableMoney:12.34,fsk18:!1,uhash:""};var At=Pt;function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=It(this,Nt(t).call(this,X.T_IS_LOGGED))).loggedIn=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,X),t}();function Rt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Lt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fsk18=!1}return function(e,t,n){t&&Rt(e.prototype,t),n&&Rt(e,n)}(e,[{key:"fsk18",get:function(){return this._fsk18},set:function(e){this._fsk18=e}}],[{key:"fromData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new e;return n.fsk18=t.fsk18||!1,n}}]),e}();function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ut=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Lt;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Vt(this,Dt(t).call(this,X.T_AVS))).status=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,X),t}();function Ht(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var xt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Ht(e.prototype,t),n&&Ht(e,n)}(e,null,[{key:"getDefault",value:function(){return e.EUR}},{key:"getAllowed",value:function(){return[e.EUR,e.USD,e.CHF]}}]),e}();xt.EUR="EUR",xt.USD="USD",xt.CHF="CHF";var Gt=xt;function Bt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt.EUR;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._amount=t,this._currency=n}return function(e,t,n){t&&Bt(e.prototype,t),n&&Bt(e,n)}(e,[{key:"toString",value:function(){return this._amount.toFixed(2)+" "+this._currency}},{key:"amount",get:function(){return this._amount}},{key:"currency",get:function(){return this._currency}}]),e}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Kt(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Kt(this,Qt(t).call(this,X.T_BALANCE))).balance=new Xt,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(t,X),function(e,t,n){t&&Wt(e.prototype,t),n&&Wt(e,n)}(t,null,[{key:"fromData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.SAMPLE_DATA,n=new t;return n.balance=new Xt(e.balance,e.currency),n}}]),t}();Jt.SAMPLE_DATA={balance:0,currency:Gt.EUR};var qt=Jt;function Zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var $t=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._amount=0,this._endDate=0,this._isActive=!1,this._isFreeAbo=!1,this._isPaidAbo=!0,this._isTrialAbo=!0,this._name=""}return function(e,t,n){t&&Zt(e.prototype,t),n&&Zt(e,n)}(e,[{key:"amount",get:function(){return this._amount},set:function(e){this._amount=e}},{key:"endDate",get:function(){return this._endDate},set:function(e){this._endDate=e}},{key:"isActive",get:function(){return this._isActive},set:function(e){this._isActive=e}},{key:"isFreeAbo",get:function(){return this._isFreeAbo},set:function(e){this._isFreeAbo=e,this._isPaidAbo=!e}},{key:"isPaidAbo",get:function(){return this._isPaidAbo},set:function(e){this._isPaidAbo=e,this._isFreeAbo=!e}},{key:"isTrialAbo",get:function(){return this._isTrialAbo},set:function(e){this._isTrialAbo=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}}]),e}();function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nn(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=nn(this,on(t).call(this,X.T_ABOS))).abos=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,X),function(e,t,n){t&&tn(e.prototype,t),n&&tn(e,n)}(t,[{key:"add",value:function(e){this.abos.push(e)}}],[{key:"fromData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.SAMPLE_DATA,n=new t;return Object.keys(e).forEach(function(t){var o=new $t;o.amount=e[t].amount,o.endDate=e[t].endDate,o.isActive=e[t].isActive,o.isFreeAbo=e[t].isFreeAbo,o.isPaidAbo=e[t].isPaidAbo,o.isTrialAbo=e[t].isTrialAbo,o.name=e[t].name,n.add(o)}),n}}]),t}();un.SAMPLE_DATA={name:{amount:0,endDate:{},isActive:!0,isFreeAbo:!1,isPaidAbo:!0,isTrialAbo:!0,name:"Abo"}};var an=un;function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sn(this,fn(t).call(this,X.T_LOGGED_OUT))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,X),t}();function hn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var yn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&hn(e.prototype,t),n&&hn(e,n)}(e,null,[{key:"fromJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",t=JSON.parse(e);if(!t.hasOwnProperty("type"))throw new TypeError("Invalid message format - no type field");switch(t.type){case X.T_COOKIE:return new z(!!t.data);case X.T_AVS:return new Ut(Lt.fromData(t.data));case X.T_BALANCE:return qt.fromData(t.data);case X.T_LOGGED_OUT:return new pn;case X.T_ABOS:return an.fromData(t.data);case X.T_CONTENT:return new ee;case X.T_IFR_RDY:return new $e;case X.T_HOOK:return Qe.fromData(t.data);case X.T_VIEW_RDY:return new rt;case X.T_IFR_CLOSE:return new yt(t.data);case X.T_VISIBLE:return new mt;case X.T_SUCCESS:return new At(t.data);case X.T_IS_LOGGED:return new jt(t.data)}if(0===t.type.indexOf(X.TT_PREFIX)){var n=t.type.substr(X.TT_PREFIX.length);return new st(n)}var o=new X(t.type);return o.raw=e,o}}]),e}();function _n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var dn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._onAny=[],this._onBeforeSend=[],this._onLoad=[]}return function(e,t,n){t&&_n(e.prototype,t),n&&_n(e,n)}(e,[{key:"onLoad",value:function(e){return this._onLoad.push(e),this}},{key:"onAny",value:function(e){return this._onAny.push(e),this}},{key:"onBeforeSend",value:function(e){return this._onBeforeSend.push(e),this}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],"_"+e);if(!this.hasOwnProperty(n))throw new Error("Hook "+e+" not available!");return 0===this[n].length||(this[n].map(function(e){e.apply(e,t)}),!0)}}]),e}();dn.ON_LOAD="onLoad",dn.ON_ANY="onAny",dn.ON_BEFORE_SEND="onBeforeSend";var bn=dn;function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function vn(e,t){return!t||"object"!==gn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function On(e,t,n){return(On="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wn(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sn=function(e){function t(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.NAME,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.STYLE_DEFAULT;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=vn(this,wn(t).call(this,e,n,r,i)))._cookieMsg=null,o._frame.name="vxpay-helper",o._hooks=new bn,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(t,C),function(e,t,n){t&&mn(e.prototype,t),n&&mn(e,n)}(t,[{key:"_cookieMessageHandler",value:function(e,t,n){n.origin&&-1===C.ORIGIN_VX.indexOf(n.origin)&&t("Event origin does not match: "+n.origin);try{this._cookieMsg=yn.fromJson(n.data)}catch(e){this._cookieMsg=new z}this._hooks.trigger(bn.ON_ANY,[this._cookieMsg],this._frame.id+"<VXPayHelperFrame>"),e(this._cookieMsg)}},{key:"getLoginCookie",value:function(){var e=this;return new Promise(function(t,n){if(null!==e._cookieMsg)return t(e._cookieMsg);O.addEvent(C.EVENT_MESSAGE,e._frame.ownerDocument.defaultView,e._cookieMessageHandler.bind(e,t,n))})}},{key:"_markLoaded",value:function(){On(wn(t.prototype),"_markLoaded",this).call(this),this._hooks.trigger(bn.ON_LOAD,[],this._frame.id+"<VXPayHelperFrame>")}},{key:"message",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.ORIGIN_ALL;return this._hooks.trigger(bn.ON_BEFORE_SEND,[e],this._frame.id+"<VXPayHelperFrame>"),On(wn(t.prototype),"message",this).call(this,e,n)}},{key:"triggerLoad",value:function(){return!this._loaded&&(this._frame.ownerDocument.getElementsByTagName("body").item(0).appendChild(this._frame),!0)}},{key:"hooks",get:function(){return this._hooks}}]),t}();Sn.STYLE_DEFAULT={display:"none"},Sn.NAME="vx-helper-frame";var Tn=Sn;function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kn(e){return(kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=An(this,kn(t).call(this,X.T_SESSION))).token=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(t,X),t}();function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){return!t||"object"!==Cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=jn(this,Rn(t).call(this,X.T_PARAMS))).options=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(t,X),t}();function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=Dn(this,Mn(t).call(this,X.T_ROUTE)),n.length>0&&(e.route=n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(t,X),t}();function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Gn(this,Bn(t).call(this,X.T_INFO))).options=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(t,X),t}();function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Qn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zn(e,t){return!t||"object"!==Wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Zn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=zn(this,Jn(t).call(this)))._onViewReady=[],e._onContentLoaded=[],e._onClose=[],e._onSuccess=[],e._onIframeReady=[],e._onLogin=[],e._onLogout=[],e._onFlowChange=[],e._onIsLoggedIn=[],e._onTransferToken=[],e._onAVSStatus=[],e._onBalance=[],e._onActiveAbos=[],e._onPayment=[],e._onSignup=[],e._onComfortSettingsChanged=[],e._onEmailVerified=[],e._onEmailNotVerified=[],e._onPasswordChanged=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qn(e,t)}(t,bn),function(e,t,n){t&&Qn(e.prototype,t),n&&Qn(e,n)}(t,[{key:"onLogout",value:function(e){return this._onLogout.push(e),this}},{key:"hasOnLogout",value:function(e){return-1!==this._onLogout.indexOf(e)}},{key:"onActiveAbos",value:function(e){return this._onActiveAbos.push(e),this}},{key:"hasOnActiveAbos",value:function(e){return-1!==this._onActiveAbos.indexOf(e)}},{key:"onBalance",value:function(e){return this._onBalance.push(e),this}},{key:"hasOnBalance",value:function(e){return-1!==this._onBalance.indexOf(e)}},{key:"onAVSStatus",value:function(e){this._onAVSStatus.push(e)}},{key:"hasOnAVSStatus",value:function(e){return-1!==this._onAVSStatus.indexOf(e)}},{key:"onIsLoggedIn",value:function(e){return this._onIsLoggedIn.push(e),this}},{key:"hasOnIsLoggedIn",value:function(e){return-1!==this._onIsLoggedIn.indexOf(e)}},{key:"onTransferToken",value:function(e){return this._onTransferToken.push(e),this}},{key:"hasOnTransferToken",value:function(e){return-1!==this._onTransferToken.indexOf(e)}},{key:"onFlowChange",value:function(e){return this._onFlowChange.push(e),this}},{key:"onLogin",value:function(e){return this._onLogin.push(e),this}},{key:"onIframeReady",value:function(e){return this._onIframeReady.push(e),this}},{key:"onClose",value:function(e){return this._onClose.push(e),this}},{key:"onSuccess",value:function(e){return this._onSuccess.push(e),this}},{key:"onViewReady",value:function(e){return this._onViewReady.push(e),this}},{key:"onContentLoaded",value:function(e){return this._onContentLoaded.push(e),this}},{key:"onPayment",value:function(e){return this._onPayment.push(e),this}},{key:"onSignup",value:function(e){return this._onSignup.push(e),this}},{key:"onComfortSettingsChanged",value:function(e){return this._onComfortSettingsChanged.push(e),this}},{key:"onEmailVerified",value:function(e){return this._onEmailVerified.push(e),this}},{key:"onEmailNotVerified",value:function(e){return this._onEmailNotVerified.push(e),this}},{key:"onPasswordChanged",value:function(e){return this._onPasswordChanged.push(e),this}},{key:"clone",value:function(){var e=new t;return e._onViewReady=Kn(this._onViewReady),e._onContentLoaded=Kn(this._onContentLoaded),e._onClose=Kn(this._onClose),e._onSuccess=Kn(this._onSuccess),e._onIframeReady=Kn(this._onIframeReady),e._onLogin=Kn(this._onLogin),e._onLogout=Kn(this._onLogout),e._onFlowChange=Kn(this._onFlowChange),e._onIsLoggedIn=Kn(this._onIsLoggedIn),e._onTransferToken=Kn(this._onTransferToken),e._onAVSStatus=Kn(this._onAVSStatus),e._onBalance=Kn(this._onBalance),e._onActiveAbos=Kn(this._onActiveAbos),e._onPayment=Kn(this._onPayment),e._onSignup=Kn(this._onSignup),e._onComfortSettingsChanged=Kn(this._onComfortSettingsChanged),e._onEmailVerified=Kn(this._onEmailVerified),e._onEmailNotVerified=Kn(this._onEmailNotVerified),e._onAny=Kn(this._onAny),e._onBeforeSend=Kn(this._onBeforeSend),e._onLoad=Kn(this._onLoad),e}}],[{key:"getAvailable",value:function(){return[t.ON_VIEW_READY,t.ON_IFRAME_READY,t.ON_CONTENT_LOADED,t.ON_CLOSE,t.ON_SUCCESS,t.ON_LOGIN,t.ON_LOGOUT,t.ON_FLOW_CHANGE,t.ON_IS_LOGGED_IN,t.ON_TRANSFER_TOKEN,t.ON_AVS_STATUS,t.ON_BALANCE,t.ON_ACTIVE_ABOS,t.ON_PAYMENT,t.ON_SIGNUP,t.ON_COMFORT_SETTINGS_CHANGE,t.ON_EMAIL_VERIFIED,t.ON_EMAIL_NOT_VERIFIED,t.ON_PASSWORD_CHANGED]}}]),t}();Zn.ON_VIEW_READY="onViewReady",Zn.ON_IFRAME_READY="onIframeReady",Zn.ON_CONTENT_LOADED="onContentLoaded",Zn.ON_CLOSE="onClose",Zn.ON_SUCCESS="onSuccess",Zn.ON_LOGIN="onLogin",Zn.ON_LOGOUT="onLogout",Zn.ON_FLOW_CHANGE="onFlowChange",Zn.ON_IS_LOGGED_IN="onIsLoggedIn",Zn.ON_TRANSFER_TOKEN="onTransferToken",Zn.ON_AVS_STATUS="onAVSStatus",Zn.ON_BALANCE="onBalance",Zn.ON_ACTIVE_ABOS="onActiveAbos",Zn.ON_PAYMENT="onPayment",Zn.ON_SIGNUP="onSignup",Zn.ON_COMFORT_SETTINGS_CHANGE="onComfortSettingsChanged",Zn.ON_EMAIL_VERIFIED="onEmailVerified",Zn.ON_EMAIL_NOT_VERIFIED="onEmailNotVerified",Zn.ON_PASSWORD_CHANGED="onPasswordChanged";var $n=Zn;function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function no(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oo(e,t,n){return(oo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ro(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t){return(io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var uo=function(e){function t(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.NAME,i=arguments.length>3?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u=Object.assign({},t.getDefaultStyles(e),u),(o=no(this,ro(t).call(this,e,n,r,u)))._frame.allowTransparency=!0,o._frame.name="vxpay",o._sessionInitialized=!1,o._hooks=i,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&io(e,t)}(t,C),function(e,t,n){t&&to(e.prototype,t),n&&to(e,n)}(t,[{key:"triggerLoad",value:function(){this._loaded||this._frame.ownerDocument.getElementsByTagName("body").item(0).appendChild(this._frame)}},{key:"removeFromDOM",value:function(){this._frame.remove()}},{key:"_markLoaded",value:function(){return oo(ro(t.prototype),"_markLoaded",this).call(this),this._hooks.trigger($n.ON_LOAD,this._frame.id)}},{key:"message",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.ORIGIN_ALL;return this._hooks.trigger($n.ON_BEFORE_SEND,[e],this._frame.id),null!==this._frame.contentWindow&&this._frame.contentWindow.postMessage(e.toString(),t),this}},{key:"initSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._sessionInitialized?this:(e=e||null,this.message(new Nn(e)),this._sessionInitialized=!0,this)}},{key:"sendOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.message(new Fn(e))}},{key:"sendAdditionalOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.message(new Yn(e))}},{key:"sendUpdateParams",value:function(e){return this.message(new Fn(e))}},{key:"changeRoute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.message(new Hn(e))}},{key:"setVisible",value:function(){return this.message(new mt)}}],[{key:"getDefaultStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=void 0!==e?e.defaultView.navigator.userAgent:"",n=new F(t),o=void 0!==e?e.getElementsByTagName("body").item(0):null,r={border:"none",width:"100%",height:"100%",top:"50%",left:"50%",marginLeft:"-325px",zIndex:10001,display:"none",transform:"translate(-50%, -50%)"};return r.position=n.isMobile()?C.POSITION_ABSOLUTE:C.POSITION_FIXED,void 0!==e&&S.isStyleAttributeSuppored(o,"maxHeight","100vh")?r.maxHeight="100vh":n.isMobile()&&(r.maxHeight=S.getClientHeight(e.defaultView)+"px"),r}}]),t}();uo.NAME="vx-payment-frame";var ao=uo;var co=function(){var e,t;return{promise:new Promise(function(n,o){e=n,t=o}),resolve:e,reject:t}};function so(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var fo=function(){function e(t,n,o,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._document=t,this._loaded=!1,this._name=n,this._config=o,this._hooks=r,this._route=e.DEFAULT_ROUTE,this._window=null,this._deferred=co(),this._invisibleFrame=new ao(t,o.getPaymentFrameUrl(),ao.NAME+"_hidden",r),this._invisibleFrame.triggerLoad()}return function(e,t,n){t&&so(e.prototype,t),n&&so(e,n)}(e,[{key:"triggerLoad",value:function(){return this.getNewTab(!0),this._deferred.promise}},{key:"getNewTab",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){var e=this._config.getPaymentFrameUrl()+"#"+this._route;this._window=this._document.defaultView.open(e,this._name),this._deferred.resolve()}}},{key:"sendOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._config.merge(e),this.message(new Fn(e)),this}},{key:"sendAdditionalOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._config.merge(e),this.message(new Yn(e)),this}},{key:"sendUpdateParams",value:function(e){return this.message(new Fn(e)),this}},{key:"message",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.ORIGIN_ALL;return e.isAction?this._invisibleFrame.message(e,n):this._deferred.promise.then(function(){t._hooks.trigger($n.ON_BEFORE_SEND,[e],t._name),t._window.postMessage(e.toString(),n)}),this}},{key:"initSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this.message(new Nn(e)),this}},{key:"changeRoute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_ROUTE;return this._route=t,this.message(new Hn(t))}},{key:"setVisible",value:function(){}},{key:"show",value:function(){return this}},{key:"hide",value:function(){return this._window&&!this._window.closed&&(this._window.close(),this.resetWindow()),this._loaded=!1,this._route=e.DEFAULT_ROUTE,this._deferred=co(),this}},{key:"resetWindow",value:function(){this._window=null}},{key:"document",get:function(){return this._document}},{key:"name",get:function(){return this._name}},{key:"config",get:function(){return this._config}},{key:"loaded",get:function(){return this._loaded}},{key:"route",get:function(){return this._route}}]),e}();fo.NAME="vx-payment-tab",fo.DEFAULT_ROUTE="/";var lo=fo;function po(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ho=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&po(e.prototype,t),n&&po(e,n)}(e,null,[{key:"init",value:function(e,t){return void 0!==e.helperFrame?t(e):(e.helperFrame=new Tn(e.window.document,C.ORIGIN_VX+"/VXPAY-V"+e.apiVersion+"/helper"),e.config.logging&&e.helperFrame.hooks.onAny(function(t){return e.logger.log(x.IN,t)}).onBeforeSend(function(t){return e.logger.log(x.OUT,t)}),e.helperFrame.triggerLoad(),t(e))}}]),e}(),yo=function(e,t,n){try{return e._hooks.hasOnAVSStatus(t)||e._hooks.onAVSStatus(t),e}catch(e){n(e)}};function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){return!t||"object"!==_o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function go(e){return(go=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=bo(this,go(t).call(this,X.TA_AVS))).isAction=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,X),t}(),Oo=function(e){return e._paymentFrame.message(new vo),e},wo=function(e,t,n){try{return e._hooks.hasOnBalance(t)||e._hooks.onBalance(t),e}catch(e){n(e)}};function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t){return!t||"object"!==Eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Po(e,t){return(Po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ao=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=So(this,To(t).call(this,X.TA_BALANCE))).isAction=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Po(e,t)}(t,X),t}(),ko=function(e){return e._paymentFrame.message(new Ao),e},Io=function(e,t,n){try{e._hooks.hasOnActiveAbos(t)||e._hooks.onActiveAbos(t)}catch(e){n(e)}return e};function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){return!t||"object"!==No(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e,t){return(Ro=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Co(this,jo(t).call(this,X.TA_ABOS))).isAction=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ro(e,t)}(t,X),t}(),Fo=function(e){return e._paymentFrame.message(new Lo),e},Vo=function(e,t,n){try{return e._hooks.hasOnLogout(t)||e._hooks.onLogout(t),e}catch(e){n(e)}};function Do(e){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mo(e,t){return!t||"object"!==Do(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ho(e,t){return(Ho=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xo=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Mo(this,Uo(t).call(this,X.TA_LOGOUT))).isAction=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ho(e,t)}(t,X),t}(),Go=null,Bo=function(){return Go._paymentFrame.message(new xo)},Xo=function(e){return Go=e,e.state.hasToken?function(e){e.message(new xo)}(e._paymentFrame):e._hooks.hasOnTransferToken(Bo)||e._hooks.onTransferToken(Bo),e};function Yo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Wo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return function(e,t,n){t&&Yo(e.prototype,t),n&&Yo(e,n)}(e,[{key:"markFrameReady",value:function(){this._isFrameReady=!0,this._isFrameInProgress=!1}},{key:"markContentLoaded",value:function(){this._isContentLoaded=!0}},{key:"markHasToken",value:function(e){this._token=e}},{key:"markSessionInitialized",value:function(){this._isSessionInitialized=!0}},{key:"reset",value:function(){this._isFrameReady=!1,this._token=void 0,this._isContentLoaded=!1,this._isSessionInitialized=!1,this._isFrameInProgress=!1}},{key:"isFrameInProgress",get:function(){return this._isFrameInProgress},set:function(e){this._isFrameInProgress=e}},{key:"isFrameReady",get:function(){return this._isFrameReady},set:function(e){this._isFrameReady=e}},{key:"hasToken",get:function(){return void 0!==this._token}},{key:"isContentLoaded",get:function(){return this._isContentLoaded},set:function(e){this._isContentLoaded=e}},{key:"isSessionInitialized",get:function(){return this._isSessionInitialized},set:function(e){this._isSessionInitialized=e}},{key:"transferToken",get:function(){return this._token}}]),e}();function Ko(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Qo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Ko(e.prototype,t),n&&Ko(e,n)}(e,null,[{key:"getAllowed",value:function(){return[e.LOGIN,e.SIGN_UP,e.PAYMENT,e.ABO,e.AVS,e.PROMOCODE,e.OP_COMP,e.PASS,e.PASS_RESET,e.RECHARGE,e.ONE_CLICK,e.SETTINGS,e.VOICE_CALL,e.LIMIT]}}]),e}();Qo.LOGIN="/login",Qo.SIGN_UP="/signup",Qo.PAYMENT="/payment",Qo.ABO="/abo",Qo.AVS="/avs",Qo.PROMOCODE="/promocode",Qo.OP_COMP="/opcompensation",Qo.PASS="/password",Qo.PASS_RESET="/passwordreset",Qo.RECHARGE="/autorecharge",Qo.ONE_CLICK="/comfort",Qo.SETTINGS="/user/settings",Qo.VOICE_CALL="/voicecall",Qo.LIMIT="/limit";var zo=Qo;function Jo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var qo=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Jo(e.prototype,t),n&&Jo(e,n)}(e,null,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayLogin::open()"),e.paymentFrame.then(function(n){return n.sendOptions(Object.assign({},{flow:l.LOGIN},t)).sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(zo.LOGIN).initSession()}),e}}]),e}();function Zo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var $o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Zo(e.prototype,t),n&&Zo(e,n)}(e,null,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPaySignUp::open()"),e.paymentFrame.then(function(n){return n.sendUpdateParams(Object.assign({},{flow:l.SIGNUP},t)).sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(zo.SIGN_UP).initSession()}),e}}]),e}();var er=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};er.VOICE_CALL="Voice",er.CREDIT_CARD="CC",er.LASTSCHRIFT="LS";var tr=er;function nr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var or=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&nr(e.prototype,t),n&&nr(e,n)}(e,null,[{key:"open",value:function(t){return t.logger.log("VXPayVoiceCall::reset()"),t.paymentFrame.then(function(n){return n.sendOptions(e.PARAMS).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(zo.VOICE_CALL).initSession()}),t}}]),e}();or.PARAMS={flow:l.CHARGE,paytype:tr.VOICE_CALL};var rr=or;function ir(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ur=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&ir(e.prototype,t),n&&ir(e,n)}(e,null,[{key:"open",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.logger.log("VXPayPayment()"),t.paymentFrame.then(function(o){return o.sendOptions(Object.assign({},e.PARAMS,n)).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(zo.PAYMENT).initSession()}),t}}]),e}();ur.PARAMS={flow:l.CHARGE,paytype:""};var ar=ur;function cr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var sr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&cr(e.prototype,t),n&&cr(e,n)}(e,null,[{key:"open",value:function(t){return t.logger.log("VXPaySettings()"),t.paymentFrame.then(function(n){return n.sendOptions(e.PARAMS).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(zo.SETTINGS).initSession()}),t}}]),e}();sr.PARAMS={flow:l.SETTINGS,paytype:""};var fr=sr;function lr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&lr(e.prototype,t),n&&lr(e,n)}(e,null,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayAbo::open()"),e.paymentFrame.then(function(n){return n.sendOptions(Object.assign({},{flow:l.VIP_ABO},t)).sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(zo.ABO).initSession()}),e}}]),e}();function hr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var yr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&hr(e.prototype,t),n&&hr(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger.log("VXPayResetPassword()");var o=Object.assign({},e.getParams(t.config),n);return t.paymentFrame.then(function(e){return e.initSession().sendOptions(o).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(zo.PASS_RESET)}),t}},{key:"getParams",value:function(e){var t=new d(e.window.URL);return{flow:l.PASSWORD_RESET,pwdresetUserId:t.getQueryParam("u",e.window.location.href),pwdresetUserName:t.getQueryParam("tpLoginPwdLost",e.window.location.href),pwdresetKey:t.getQueryParam("key",e.window.location.href)}}}]),e}();function _r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var dr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&_r(e.prototype,t),n&&_r(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.logger.log("VXPayLostPassword()");var o=Object.assign({},e.getParams(t.config),n);return t.paymentFrame.then(function(e){return e.initSession().sendOptions(o).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(zo.PASS)}),t}},{key:"getParams",value:function(e){var t=new d(e.window.URL);return{flow:l.PASSWORD_LOST,pwdresetUserId:t.getQueryParam("u",e.window.location.href),pwdresetUserName:t.getQueryParam("tpLoginPwdLost",e.window.location.href),pwdresetEmail:t.getQueryParam("tpEmailPwdLost",e.window.location.href)}}}]),e}();function br(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var gr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&br(e.prototype,t),n&&br(e,n)}(e,null,[{key:"open",value:function(t){return t.logger.log("VXPayLimitedPayment()"),t.paymentFrame.then(function(n){return n.sendOptions(e.PARAMS).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(zo.LIMIT).initSession()}),t}}]),e}();gr.PARAMS={flow:l.LIMIT,paytype:""};var mr=gr;function vr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Or=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&vr(e.prototype,t),n&&vr(e,n)}(e,null,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayVipAboTrial()"),e.paymentFrame.then(function(n){return n.initSession().sendOptions(Object.assign({},{flow:l.TRIAL_VIP_ABO},t)).sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(zo.ABO)}),e}}]),e}();function wr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Er=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&wr(e.prototype,t),n&&wr(e,n)}(e,null,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOpenPaymentCommand()"),e.paymentFrame.then(function(n){return n.initSession().sendOptions(Object.assign({},{flow:l.VXTV_ABO},t)).sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(zo.ABO)}),e}}]),e}();function Sr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Tr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Sr(e.prototype,t),n&&Sr(e,n)}(e,null,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayAVS()"),e.paymentFrame.then(function(n){return n.initSession().sendOptions(Object.assign({},{flow:l.AVS},t)).sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(zo.AVS)}),e}}]),e}();function Pr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Ar=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Pr(e.prototype,t),n&&Pr(e,n)}(e,null,[{key:"open",value:function(e,t){return e.logger.log("VXPayPromoCode()"),e.paymentFrame.then(function(n){return n.initSession().sendOptions(Object.assign({},{flow:l.PROMOCODE},t)).sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(zo.PROMOCODE)}),e}}]),e}();function kr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Ir=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&kr(e.prototype,t),n&&kr(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.logger.log("VXPayOneClick()"),t.paymentFrame.then(function(o){return o.initSession().sendOptions(Object.assign({},e.PARAMS,n)).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(zo.ONE_CLICK)}),t}}]),e}();Ir.PARAMS={flow:l.ONE_CLICK,paytype:"",oneClickData:{data:null}};var Nr=Ir;function Cr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var jr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Cr(e.prototype,t),n&&Cr(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.logger.log("VXPayAutoRecharge()"),t.paymentFrame.then(function(o){return o.initSession().sendOptions(Object.assign({},e.PARAMS,n)).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(zo.RECHARGE)}),t}}]),e}();jr.PARAMS={flow:l.AUTO_RECHARGE,autoRechargeData:{data:null}};var Rr=jr;function Lr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Fr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Lr(e.prototype,t),n&&Lr(e,n)}(e,null,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOneClick()"),e.paymentFrame.then(function(n){return n.initSession().sendOptions(Object.assign({},{flow:l.OP_COMPENSATION},t)).sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(zo.OP_COMP)}),e}}]),e}();function Vr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Dr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Vr(e.prototype,t),n&&Vr(e,n)}(e,null,[{key:"trigger",value:function(e){return e.logger.log("VXPayShowForTab::trigger()"),e.config.enableTab&&e._paymentFrame.triggerLoad(),e}}]),e}(),Mr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(t.origin&&-1===C.ORIGIN_VX.indexOf(t.origin))return!1;var o=yn.fromJson(t.data);switch(e.trigger($n.ON_ANY,[o],n),o.type){case X.T_TOKEN:return e.trigger($n.ON_TRANSFER_TOKEN,[o],n);case X.T_AVS:return e.trigger($n.ON_AVS_STATUS,[o],n);case X.T_BALANCE:return e.trigger($n.ON_BALANCE,[o],n);case X.T_ABOS:return e.trigger($n.ON_ACTIVE_ABOS,[o],n);case X.T_IFR_RDY:return e.trigger($n.ON_IFRAME_READY,[o],n);case X.T_CONTENT:return e.trigger($n.ON_CONTENT_LOADED,[o],n);case X.T_VIEW_RDY:return e.trigger($n.ON_VIEW_READY,[o],n);case X.T_IFR_CLOSE:return e.trigger($n.ON_CLOSE,[o],n);case X.T_SUCCESS:return e.trigger($n.ON_SUCCESS,[o],n);case X.T_IS_LOGGED:return e.trigger($n.ON_IS_LOGGED_IN,[o],n);case X.T_LOGGED_OUT:return e.trigger($n.ON_LOGOUT,[o],n);case X.T_HOOK:switch(o.hook){case ue.H_LOGIN:return e.trigger($n.ON_LOGIN,[o],n);case ue.H_FLOW:return e.trigger($n.ON_FLOW_CHANGE,[o],n);case ue.H_PAYMENT:return e.trigger($n.ON_PAYMENT,[o],n);case ue.H_SIGNUP:return e.trigger($n.ON_SIGNUP,[o],n);case ue.H_C_SETTINGS:return e.trigger($n.ON_COMFORT_SETTINGS_CHANGE,[o],n);case ue.H_E_VERIFIED:return e.trigger($n.ON_EMAIL_VERIFIED,[o],n);case ue.H_E_NOT_VERIFIED:return e.trigger($n.ON_EMAIL_NOT_VERIFIED,[o],n);case ue.H_PASS:return e.trigger($n.ON_PASSWORD_CHANGED,[o],n)}}};function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Br=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Hr(this,xr(t).call(this,X.TA_IS_LOGGED))).isAction=!0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,X),t}(),Xr=function(e,t,n){e.logger.log("VXPayIsLoggedInTrigger()");try{e._hooks.hasOnIsLoggedIn(t)||e._hooks.onIsLoggedIn(t),e._paymentFrame.message(new Br)}catch(e){n(e)}return e};function Yr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Wr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Yr(e.prototype,t),n&&Yr(e,n)}(e,null,[{key:"reset",value:function(e){return e.logger.log("VXPayTokenForTab()"),e.config.enableTab&&e.state.markHasToken(void 0),e}}]),e}();function Kr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Qr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Kr(e.prototype,t),n&&Kr(e,n)}(e,null,[{key:"tokenTransferred",value:function(e){return e.logger.log("VXPayWhen::tokenTransferred()"),new Promise(function(t,n){try{e.state.hasToken?t(e):e._hooks.onTransferToken(function(){return t(e)})}catch(e){n(e)}})}}]),e}();function zr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Jr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&zr(e.prototype,t),n&&zr(e,n)}(e,null,[{key:"init",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.logger.log("VXPayInitPaymentMiddleware()",n),e.state.isContentLoaded?(e.logger.log("VXPayInitPaymentMiddleware() - already loaded, resolve ..."),t(e)):e.state.isFrameInProgress&&!n?(e.logger.log("VXPayInitPaymentMiddleware() - already in progress, resolve ..."),t(e)):(e.state.isFrameInProgress=n,e.config.enableTab?e._paymentFrame=new lo(e.window.document,lo.NAME,e.config,e._hooks):e._paymentFrame=e.hasOwnProperty("_paymentFrame")?e._paymentFrame:new ao(e.window.document,e.config.getPaymentFrameUrl(),ao.NAME,e._hooks),void(e._paymentFrame.loaded||(e.config.logging&&e._hooks.onAny(function(t){return e.logger.log(x.IN,t)}).onBeforeSend(function(t){return e.logger.log(x.OUT,t)}),e._hooks.onIframeReady(e.state.markFrameReady.bind(e.state)).onContentLoaded(e.state.markContentLoaded.bind(e.state)).onTransferToken(e.state.markHasToken.bind(e.state)).onTransferToken(e.config.setTokenFromMessage.bind(e.config)).onFlowChange(e.config.updateFlow.bind(e.config)).onViewReady(e._paymentFrame.setVisible.bind(e._paymentFrame)).onViewReady(e._paymentFrame.show.bind(e._paymentFrame)).onSuccess(e._paymentFrame.hide.bind(e._paymentFrame)).onSuccess(e.state.reset).onClose(e._paymentFrame.hide.bind(e._paymentFrame)).onClose(e.state.reset).onContentLoaded(function(){return t(e)}),e.startListening(),n&&!e.config.enableTab?(e.logger.log("VXPayInitPaymentMiddleware() - not loaded yet, trigger load"),e._paymentFrame.url=e.config.getPaymentFrameUrl(),e._paymentFrame.triggerLoad()):t(e))))}}]),e}();function qr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Zr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.logger=new x(this.config.logging,this.config.window),this._state=new Wo,this._hooks=new $n,this.logger.log("VXPay::constructor - "+JSON.stringify(this.config.getOptions())),this.hooksRouteHandler=this.routeHooks.bind(this),this.dontListenHandler=this.stopListening.bind(this)}return function(e,t,n){t&&qr(e.prototype,t),n&&qr(e,n)}(e,[{key:"initHelperFrame",value:function(){var e=this;return new Promise(function(t){return ho.init(e,t)})}},{key:"_initPaymentFrame",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.logger.log("VXPay::_initPaymentFrame",t),new Promise(function(n){return Jr.init(e,n,t)})}},{key:"openLogin",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){return e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return qo.open(e,t)}).then(n).catch(o)})}},{key:"openSignUp",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){return e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return $o.open(e,t)}).then(n).catch(o)})}},{key:"openVoiceCall",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(rr.open).then(t).catch(n)})}},{key:"openSignUpOrLogin",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.initHelperFrame().then(function(e){return e.helperFrame.getLoginCookie()}).then(function(n){return n.hasCookie?e.openLogin(t):e.openSignUp(t)})}},{key:"openPayment",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return ar.open(e,t)}).then(n).catch(o)})}},{key:"openAbo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return pr.open(e,t)}).then(n).catch(o)})}},{key:"openSettings",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(fr.open).then(t).catch(n)})}},{key:"resetPassword",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return yr.run(e,t)}).then(n).catch(o)})}},{key:"lostPassword",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return dr.run(e,t)}).then(n).catch(o)})}},{key:"limitPayment",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(mr.open).then(t).catch(n)})}},{key:"vipAboTrial",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return Or.open(e,t)}).then(n).catch(o)})}},{key:"premiumAbo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return Er.open(e,t)}).then(n).catch(o)})}},{key:"openAVS",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return Tr.open(e,t)}).then(n).catch(o)})}},{key:"openPromoCode",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return Ar.open(e,t)}).then(n).catch(o)})}},{key:"openScratchCard",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return Ar.open(e,t)}).then(n).catch(o)})}},{key:"openOneClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return Nr.run(e,t)}).then(n).catch(o)})}},{key:"openAutoReCharge",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return Rr.run(e,t)}).then(n).catch(o)})}},{key:"openBalance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(Wr.reset).then(Dr.trigger).then(Qr.tokenTransferred).then(function(e){return Fr.open(e,t)}).then(n).catch(o)})}},{key:"isLoggedIn",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame(!e.config.enableTab).then(Qr.tokenTransferred).then(function(e){return Xr(e,t,n)}).catch(n)})}},{key:"getAVSStatus",value:function(){var e=this;return new Promise(function(t,n){return e._initPaymentFrame(!e.config.enableTab).then(Qr.tokenTransferred).then(function(e){return yo(e,t,n)}).then(Oo).catch(n)})}},{key:"getBalance",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame(!e.config.enableTab).then(Qr.tokenTransferred).then(function(e){return wo(e,t,n)}).then(ko).catch(n)})}},{key:"getActiveAbos",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame(!e.config.enableTab).then(Qr.tokenTransferred).then(function(e){return Io(e,t,n)}).then(Fo).catch(n)})}},{key:"logout",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(function(e){return Vo(e,t,n)}).then(Xo).catch(n)})}},{key:"routeHooks",value:function(e){Mr(this._hooks,e)}},{key:"startListening",value:function(){O.addEvent(C.EVENT_MESSAGE,this.config.window,this.hooksRouteHandler),O.addEvent(C.EVENT_UNLOAD,this.config.window,this.dontListenHandler)}},{key:"stopListening",value:function(){O.removeEvent(C.EVENT_MESSAGE,this.config.window,this.hooksRouteHandler),O.removeEvent(C.EVENT_UNLOAD,this.config.window,this.dontListenHandler)}},{key:"state",get:function(){return this._state}},{key:"config",get:function(){return this._config},set:function(e){if(!(e instanceof M))throw new TypeError("Please provide an instance of VXPayConfig!");void 0!==this._logger&&this._logger.log("VXPay::config -> ",e),this._config=e}},{key:"logger",get:function(){return this._logger},set:function(e){if(!(e instanceof x))throw new TypeError("Please provide an instance of VXPayLogger!");this._logger=e}},{key:"apiVersion",get:function(){return this.config.apiVersion},set:function(e){this.config.apiVersion=e}},{key:"hooks",get:function(){var e=this;return new Promise(function(t){return t(e._hooks)})}},{key:"paymentFrame",get:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(function(e){return t(e._paymentFrame)}).catch(n)})},set:function(e){if(!(e instanceof ao||e instanceof lo))throw new TypeError("Payment frame should be an instance of VXPayPaymentFrame or VXPayPaymentTab");this._paymentFrame=e}},{key:"helperFrame",get:function(){return this._helperFrame},set:function(e){if(!(e instanceof Tn))throw new TypeError("Helper frame should be an instance of VXPayHelperFrame");this._helperFrame=e}},{key:"window",get:function(){return this.config.window}}]),e}();var $r=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};$r.SESSION_ACKNOWLEDGE="ackSession",$r.SESSION_EXPIRED="sessionExpired",$r.MESSAGE="message",$r.MESSAGE_PRICE="messagePrice",$r.CHANNELS="channels",$r.INCOMING_MESSAGE="incomingMessage",$r.ALL_CHANNELS_SEEN="allChannelsSeen",$r.CAN_ONECLICK_RESULT="canOneClickResult",$r.CHARGE_AUTORECHARGE_RESULT="chargeAutoRechargeResult",$r.CHARGE_ONECLICK_RESULT="chargeOneClickResult",$r.FAVORITE_ACTOR_PINNED="FavoriteActorPinned",$r.FAVORITE_ACTOR_UNPINNED="FavoriteActorUnpinned",$r.FAVORITE_PICTURE_PINNED="FavoritePicturePinned",$r.FAVORITE_PICTURE_UNPINNED="FavoritePictureUnpinned",$r.FAVORITE_ALBUM_PINNED="FavoriteAlbumPinned",$r.FAVORITE_ALBUM_UNPINNED="FavoriteAlbumUnpinned",$r.FAVORITE_SEDCARDS_ALBUM_PINNED="FavoriteSedcardsAlbumPinned",$r.FAVORITE_SEDCARDS_ALBUM_UNPINNED="FavoriteSedcardsAlbumUnpinned",$r.FAVORITE_ACTORS="FavoriteActors",$r.GUEST_BALANCE="guestBalance",$r.NAVBAR_NOTIFICATIONS="navbarNotifications",$r.ACTOR_ONLINE="actorOnline",$r.ACTOR_OFFLINE="actorOffline",$r.AVS_REVOKED="avsRevoked",$r.AVS_SET="avsSet",$r.GUEST_LOCKED="guestLocked",$r.CHANNEL_ARCHIVED="channelArchived",$r.SEND_SIGNUP_EMAIL_RESULT="sendSignupEmailResult",$r.VIP_ABO_UPDATE="vipAboUpdate",$r.VXTV_ABO_UPDATE="vxtvAboUpdate",$r.VOICECALL_START="voicecallStart",$r.VOICECALL_STOP="voicecallStop",$r.WELCOME_BONUS_REDEEMED="welcomeBonusRedeemed",$r.FREE_SHOW_START="freeShowStart",$r.FREE_SHOW_STOP="freeShowStop",$r.PONG="pong";var ei=$r;n.d(t,"VXPay",function(){return Zr}),n.d(t,"VXPayConfig",function(){return M}),n.d(t,"VXPayEnvironment",function(){return i}),n.d(t,"VXPayLanguage",function(){return c}),n.d(t,"VXPayNotifications",function(){return ei}),n.d(t,"VXPayModalConfig",function(){return y}),n.d(t,"VXPayPaymentHooksConfig",function(){return $n}),n.d(t,"VXPayFlow",function(){return l}),n.d(t,"VXPayCurrency",function(){return Gt})},0:function(e,t,n){e.exports=n("./src/main.js")}})});