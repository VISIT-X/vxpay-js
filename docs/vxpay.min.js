!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VX",[],t):"object"==typeof exports?exports.VX=t():e.VX=t()}(window,function(){return function(e){var t=window.webpackHotUpdateVX;window.webpackHotUpdateVX=function(e,n){!function(e,t){if(!O[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(y[n]=t[n]);0==--d&&0===b&&S()}(e,n),t&&t(e,n)};var n,o=!0,r="98d63706825b45d235ff",i=1e4,u={},a=[],c=[];function s(e){var t=T[e];if(!t)return A;var o=function(o){return t.hot.active?(T[o]?-1===T[o].parents.indexOf(e)&&T[o].parents.push(e):(a=[e],n=o),-1===t.children.indexOf(o)&&t.children.push(o)):(console.warn("[HMR] unexpected require("+o+") from disposed module "+e),a=[]),A(o)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(o,i,r(i));return o.e=function(e){return"ready"===l&&p("prepare"),b++,A.e(e).then(t,function(e){throw t(),e});function t(){b--,"prepare"===l&&(m[e]||E(e),0===b&&0===d&&S())}},o.t=function(e,t){return 1&t&&(e=o(e)),A.t(e,-2&t)},o}var f=[],l="idle";function p(e){l=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var h,y,_,d=0,b=0,m={},g={},O={};function v(e){return+e+""===e?+e:e}function w(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return o=e,p("check"),function(e){return e=e||1e4,new Promise(function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var o=new XMLHttpRequest,i=A.p+""+r+".hot-update.json";o.open("GET",i,!0),o.timeout=e,o.send(null)}catch(e){return n(e)}o.onreadystatechange=function(){if(4===o.readyState)if(0===o.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===o.status)t();else if(200!==o.status&&304!==o.status)n(new Error("Manifest request to "+i+" failed."));else{try{var e=JSON.parse(o.responseText)}catch(e){return void n(e)}t(e)}}})}(i).then(function(e){if(!e)return p("idle"),null;g={},m={},O=e.c,_=e.h,p("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});y={};return E(1),"prepare"===l&&0===b&&0===d&&S(),t})}function E(e){O[e]?(g[e]=!0,d++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=A.p+""+e+"."+r+".hot-update.js",t.appendChild(n)}(e)):m[e]=!0}function S(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then(function(){return P(o)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in y)Object.prototype.hasOwnProperty.call(y,n)&&t.push(v(n));e.resolve(t)}}function P(t){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var n,o,i,c,s;function f(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var r=o.pop(),i=r.id,u=r.chain;if((c=T[i])&&!c.hot._selfAccepted){if(c.hot._selfDeclined)return{type:"self-declined",chain:u,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:u,moduleId:i};for(var a=0;a<c.parents.length;a++){var s=c.parents[a],f=T[s];if(f){if(f.hot._declinedDependencies[i])return{type:"declined",chain:u.concat([s]),moduleId:i,parentId:s};-1===t.indexOf(s)&&(f.hot._acceptedDependencies[i]?(n[s]||(n[s]=[]),h(n[s],[i])):(delete n[s],t.push(s),o.push({chain:u.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];-1===e.indexOf(o)&&e.push(o)}}t=t||{};var d={},b=[],m={},g=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var w in y)if(Object.prototype.hasOwnProperty.call(y,w)){var E;s=v(w);var S=!1,P=!1,k=!1,I="";switch((E=y[w]?f(s):{type:"disposed",moduleId:w}).chain&&(I="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(S=new Error("Aborted because of self decline: "+E.moduleId+I));break;case"declined":t.onDeclined&&t.onDeclined(E),t.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+I));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(E),t.ignoreUnaccepted||(S=new Error("Aborted because "+s+" is not accepted"+I));break;case"accepted":t.onAccepted&&t.onAccepted(E),P=!0;break;case"disposed":t.onDisposed&&t.onDisposed(E),k=!0;break;default:throw new Error("Unexception type "+E.type)}if(S)return p("abort"),Promise.reject(S);if(P)for(s in m[s]=y[s],h(b,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,s)&&(d[s]||(d[s]=[]),h(d[s],E.outdatedDependencies[s]));k&&(h(b,[E.moduleId]),m[s]=g)}var N,C=[];for(o=0;o<b.length;o++)s=b[o],T[s]&&T[s].hot._selfAccepted&&C.push({module:s,errorHandler:T[s].hot._selfAccepted});p("dispose"),Object.keys(O).forEach(function(e){!1===O[e]&&function(e){delete installedChunks[e]}(e)});for(var R,L,j=b.slice();j.length>0;)if(s=j.pop(),c=T[s]){var F={},D=c.hot._disposeHandlers;for(i=0;i<D.length;i++)(n=D[i])(F);for(u[s]=F,c.hot.active=!1,delete T[s],delete d[s],i=0;i<c.children.length;i++){var V=T[c.children[i]];V&&((N=V.parents.indexOf(s))>=0&&V.parents.splice(N,1))}}for(s in d)if(Object.prototype.hasOwnProperty.call(d,s)&&(c=T[s]))for(L=d[s],i=0;i<L.length;i++)R=L[i],(N=c.children.indexOf(R))>=0&&c.children.splice(N,1);for(s in p("apply"),r=_,m)Object.prototype.hasOwnProperty.call(m,s)&&(e[s]=m[s]);var M=null;for(s in d)if(Object.prototype.hasOwnProperty.call(d,s)&&(c=T[s])){L=d[s];var U=[];for(o=0;o<L.length;o++)if(R=L[o],n=c.hot._acceptedDependencies[R]){if(-1!==U.indexOf(n))continue;U.push(n)}for(o=0;o<U.length;o++){n=U[o];try{n(L)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:L[o],error:e}),t.ignoreErrored||M||(M=e)}}}for(o=0;o<C.length;o++){var G=C[o];s=G.module,a=[s];try{A(s)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:n,originalError:e}),t.ignoreErrored||M||(M=n),M||(M=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||M||(M=e)}}return M?(p("fail"),Promise.reject(M)):(p("idle"),new Promise(function(e){e(b)}))}var T={};function A(t){if(T[t])return T[t].exports;var o=T[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var o=0;o<e.length;o++)t._acceptedDependencies[e[o]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:w,apply:P,status:function(e){if(!e)return l;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:u[e]};return n=void 0,t}(t),parents:(c=a,a=[],c),children:[]};return e[t].call(o.exports,o,o.exports,s(t)),o.l=!0,o.exports}return A.m=e,A.c=T,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},A.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.t=function(e,t){if(1&t&&(e=A(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(A.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)A.d(n,o,function(t){return e[t]}.bind(null,o));return n},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="",A.h=function(){return r},s(0)(A.s=0)}({"./node_modules/is-mobile/index.js":function(e,t,n){"use strict";e.exports=i,e.exports.isMobile=i;var o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function i(e,t){return t||null===e||"object"!=typeof e||(t=e),e||"undefined"==typeof navigator||(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"==typeof e&&(t||(t={}),t.tablet?r.test(e):o.test(e))}},"./src/main.js":function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.r(t);var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,null,[{key:"getAvailable",value:function(){return[e.LANDING_PAGE,e.CULT_BABES,e.TV_CHAT,e.SLP,e.VXONE_LP,e.VXONE]}},{key:"getDefault",value:function(){return e.VXONE}}]),e}();r.LANDING_PAGE="lp",r.CULT_BABES="cultbabes",r.TV_CHAT="tvchat",r.SLP="slp",r.VXONE_LP="vxonelp",r.VXONE="vxone";var i=r;function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(e,null,[{key:"getDefault",value:function(){return e.DE}},{key:"getAvailable",value:function(){return[e.DE,e.EN,e.NL]}}]),e}();a.DE="DE",a.EN="EN",a.NL="NL";var c=a;function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,null,[{key:"getAllowed",value:function(){return[e.AVS,e.LIMIT,e.LOGIN,e.MONEY_CHARGE,e.OP_COMPENSATION,e.PASSWORD_RESET,e.PASSWORD_LOST,e.PROMOCODE,e.SCRATCH_CARD,e.TRIAL_VIP_ABO,e.VIP_ABO,e.VXTV_ABO,e.SETTINGS,e.CHANGE_CARD,e.CHANGE_LS,e.ONE_CLICK,e.AUTO_RECHARGE]}},{key:"getDefault",value:function(){return e.MONEY_CHARGE}}]),e}();f.AVS="avs",f.LIMIT="limit",f.LOGIN="login",f.MONEY_CHARGE="moneycharge",f.OP_COMPENSATION="opcompensation",f.AUTO_RECHARGE="autorecharge",f.PASSWORD_RESET="pwdreset",f.PASSWORD_LOST="pwdlost",f.PROMOCODE="promocode",f.SCRATCH_CARD="scratchcard",f.TRIAL_VIP_ABO="trialvipabo",f.VIP_ABO="vipabo",f.VXTV_ABO="vxtvabo",f.SETTINGS="vxsettings",f.CHANGE_CARD="changecc",f.CHANGE_LS="changels",f.ONE_CLICK="oneclick";var l=f;function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._login=e.YES,this._showHeader=e.YES,this._showTeaser=e.YES,this._showFooter=e.YES,this._support=e.YES,this._showOAuth=e.YES,this._showNL=e.YES,this._neutralHeader=e.NO,this._teaserBonus=e.NO,this._showThank=e.NO,this._showLogo=e.NO,this._showTeaserBar=e.NO,this._parentInFrame=e.NO}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(e,[{key:"getOptions",value:function(){return{login:this.login,showHeader:this.showHeader,showTeaser:this.showTeaser,showFooter:this.showFooter,neutralHeader:this.neutralHeader,teaserBonus:this.teaserBonus,support:this.support,showOAuth:this.showOAuth,showNL:this.showNL,showThank:this.showThank,showLogo:this.showLogo,showTeaserBar:this.showTeaserBar,parentInFrame:this.parentInFrame}}},{key:"parentInFrame",get:function(){return this._parentInFrame},set:function(t){e._throwOnInvalid(t),this._parentInFrame=t}},{key:"login",get:function(){return this._login},set:function(t){e._throwOnInvalid(t),this._login=t}},{key:"showHeader",get:function(){return this._showHeader},set:function(t){e._throwOnInvalid(t),this._showHeader=t}},{key:"showTeaser",get:function(){return this._showTeaser},set:function(t){e._throwOnInvalid(t),this._showTeaser=t}},{key:"showFooter",get:function(){return this._showFooter},set:function(t){e._throwOnInvalid(t),this._showFooter=t}},{key:"neutralHeader",get:function(){return this._neutralHeader},set:function(t){e._throwOnInvalid(t),this._neutralHeader=t}},{key:"teaserBonus",get:function(){return this._teaserBonus},set:function(t){e._throwOnInvalid(t),this._teaserBonus=t}},{key:"support",get:function(){return this._support},set:function(t){e._throwOnInvalid(t),this._support=t}},{key:"showOAuth",get:function(){return this._showOAuth},set:function(t){e._throwOnInvalid(t),this._showOAuth=t}},{key:"showNL",get:function(){return this._showNL},set:function(t){e._throwOnInvalid(t),this._showNL=t}},{key:"showThank",get:function(){return this._showThank},set:function(t){e._throwOnInvalid(t),this._showThank=t}},{key:"showLogo",get:function(){return this._showLogo},set:function(t){e._throwOnInvalid(t),this._showLogo=t}},{key:"showTeaserBar",get:function(){return this._showTeaserBar},set:function(t){e._throwOnInvalid(t),this._showTeaserBar=t}}],[{key:"_throwOnInvalid",value:function(e){if(!m.isModalConfigValueAllowed(e))throw new TypeError("Value not allowed. Try one of: VXPayModalConfig.YES, VXPayModalConfig.NO")}},{key:"getAllowed",value:function(){return[e.YES,e.NO]}}]),e}();h.YES=1,h.NO=0;var y=h;function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._urlImpl=void 0===t?window.URL:t}return function(e,t,n){t&&_(e.prototype,t),n&&_(e,n)}(e,[{key:"generate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=new this._urlImpl(e);if(o.hash="",t)for(var r in t)void 0!==t[r]&&o.searchParams.append(r,t[r]);if(n)for(var i in n){void 0!==n["_"===i.charAt(1)?i.substr(1):i]&&o.searchParams.append("mc["+i+"]",n[i])}return o.toString()}},{key:"getQueryParam",value:function(e,t){try{return new this._urlImpl(e).searchParams[t]}catch(e){return""}}},{key:"isValid",value:function(e){try{return new this._urlImpl(e),!0}catch(e){return!1}}}]),e}();function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(e,null,[{key:"isUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new d(t).isValid(e)}},{key:"isLanguageSupported",value:function(e){return-1!==c.getAvailable().indexOf(e)}},{key:"isEnvironmentSupported",value:function(e){return-1!==i.getAvailable().indexOf(e)}},{key:"isFlowAllowed",value:function(e){return-1!==l.getAllowed().indexOf(e)}},{key:"isModalConfigValueAllowed",value:function(e){return-1!==y.getAllowed().indexOf(e)}}]),e}();function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&g(e.prototype,t),n&&g(e,n)}(e,null,[{key:"addEvent",value:function(t,n,o){n.addEventListener?n.addEventListener(t,o,!1):n.attachEvent?n.attachEvent(e.IE_PREFIX+t,o):n[t]=o}},{key:"removeEvent",value:function(t,n,o){n.removeEventListener?n.removeEventListener(t,o,!1):n.detachEvent?n.detachEvent(e.IE_PREFIX+t,o):n[t]=null}}]),e}();O.IE_PREFIX="on";var v=O;function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var E=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._window=t,this._jQuery=n,this._fx=o}return function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(e,[{key:"_hasJQuery",value:function(){return void 0!==this._jQuery&&void 0!==this._jQuery.Animation}},{key:"_hasMooTools",value:function(){return void 0!==this._fx&&void 0!==this._fx.Scroll}},{key:"scrollTo",value:function(t){try{if(this._hasJQuery()){var n=e.OPTIONS_JQUERY;return n.scrollTop=t,this._jQuery("html, body").animate(n,e.ANIMATION_DURATION)}return this._hasMooTools()?new this._fx.Scroll(this._window,e.OPTIONS_MTOOLS).start(0,t):this._window.scrollTo(0,t)}catch(e){}}},{key:"window",get:function(){return this._window}},{key:"jQuery",get:function(){return this._jQuery}},{key:"fx",get:function(){return this._fx}}],[{key:"getClientHeight",value:function(e){return e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight}},{key:"isStyleAttributeSuppored",value:function(e,t,n){var o=!1;try{e.style[t]=n,o=e.style[t]===n}catch(e){}return o}}]),e}();E.TAG_IFRAME="iframe",E.OPTIONS_JQUERY={scrollTop:0},E.OPTIONS_MTOOLS={duration:E.ANIMATION_DURATION},E.ANIMATION_DURATION=500;var S=E;function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var N=function(e){function t(e,n,o){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?I(e):t}(this,A(t).call(this)),"function"!=typeof e.createElement)throw new TypeError("An iFrame can only be build on a valid Document object!");if(!m.isUrl(n,e.defaultView.URL))throw new TypeError("Please provide a valid URL! "+n);if(!o||0===o.length)throw new TypeError("Please provide a valid frame ID!");if(r._loaded=!1,r._frame=e.createElement(S.TAG_IFRAME),r._frame.src=n,r._frame.id=o,r._frame.onload=r._markLoaded.bind(I(I(r))),null!==i)for(var u in i)r._frame.style.setProperty(u,i[u]);return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,v),function(e,t,n){t&&T(e.prototype,t),n&&T(e,n)}(t,[{key:"triggerLoad",value:function(){throw new Error("Method triggerLoad should be implemented in child class!")}},{key:"_markLoaded",value:function(){this._loaded=!0}},{key:"maximize",value:function(){return this._frame.style.width=t.MAX_WIDTH,this._frame.style.height=t.MAX_HEIGHT,this._frame.style.left=t.MAX_LEFT,this._frame.style.top=t.MAX_TOP,this._frame.style.marginLeft=t.MAX_LEFT_MARGIN,this}},{key:"postMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ORIGIN_ALL;return this._frame.contentWindow.postMessage(e.toString(),n),this}},{key:"setMessageHandler",value:function(e){v.addEvent(t.EVENT_MESSAGE,this._frame.contentWindow,e)}},{key:"removeMessageHandler",value:function(e){v.removeEvent(t.EVENT_MESSAGE,this._frame.contentWindow,e)}},{key:"show",value:function(){this._frame.style.display=t.DISPLAY_BLOCK}},{key:"hide",value:function(){this._frame.style.display=t.DISPLAY_NONE}},{key:"loaded",get:function(){return this._loaded}},{key:"frame",get:function(){return this._frame}},{key:"url",set:function(e){this._frame.src=e},get:function(){return this._frame.src}}]),t}();N.EVENT_MESSAGE="message",N.EVENT_LOAD="load",N.EVENT_UNLOAD="beforeunload",N.POSITION_ABSOLUTE="absolute",N.POSITION_FIXED="fixed",N.DISPLAY_BLOCK="block",N.DISPLAY_NONE="none",N.MAX_HEIGHT="100vh",N.MAX_WIDTH="100%",N.MAX_TOP="0",N.MAX_LEFT="0",N.MAX_LEFT_MARGIN="0",N.ORIGIN_VX="https://www.visit-x.net",N.ORIGIN_ALL="*";var C=N,R=n("./node_modules/is-mobile/index.js"),L=n.n(R);function j(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userAgent=t}return function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(e,[{key:"isMobile",value:function(){return L()(this._userAgent)}},{key:"userAgent",get:function(){return this._userAgent},set:function(e){this._userAgent=e}}]),e}();function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._env=i.getDefault(),this._logging=!1,this._flow=l.getDefault(),this._language=c.getDefault(),this._urls={abg:e.ABG_DEFAULT.replace("{language}",this._language),privacy:e.PRIVACY_DEFAULT.replace("{language}",this._language),ruri:"",suri:"",purl:""},this._pfm="",this._enableTab=new F(t.navigator.userAgent||"").isMobile(),this._host="",this._token="",this._promoCode="",this._wmId="",this._wmSubRef="",this._wmToken="",this._adtv="",this._subRef="",this._apiVersion=3,this._modalConfig=void 0===n?new y:n,this._window=t,this._helper=new d(t.URL)}return function(e,t,n){t&&D(e.prototype,t),n&&D(e,n)}(e,[{key:"getPaymentFrameUrl",value:function(){return this._helper.generate(C.ORIGIN_VX+"/VXPAY-V"+this._apiVersion+"/",this.getOptions(),this._modalConfig.getOptions())}},{key:"getOptions",value:function(){return{agbUrl:this.abgUrl,privacyUrl:this.privacyUrl,environment:this._env,flow:this._flow,lang:this._language,pfm:this._pfm,w:this._wmId,ws:this._wmSubRef,wt:this._wmToken,adtv:this._adtv,sub:this._subRef,enableTab:this._enableTab?1:0,option:"",pc:this._promoCode,tt:this._token,ruri:this._urls.ruri,host:this._host}}},{key:"getAdditionalOptions",value:function(){var e={ref:this._wmId,ruri:this._urls.ruri,surl:this._urls.suri,aurl:this.abgUrl,prurl:this.privacyUrl,purl:this._urls.purl};return Object.assign({},e,this.modalConfig.getOptions())}},{key:"setTokenFromMessage",value:function(e){this._token=e.token}},{key:"merge",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;Object.keys(t.getOptions()).forEach(function(n){var o=e.hasOwnProperty(n)&&void 0!==e[n];"lang"===n&&e.hasOwnProperty("language")?t[n]=e.language:o&&(t[n]=e[n])})}},{key:"updateFlow",value:function(e){this._flow=e.newFlow}},{key:"ruri",get:function(){return this._urls.ruri},set:function(e){this._urls.ruri=e}},{key:"suri",get:function(){return this._urls.suri}},{key:"purl",get:function(){return this._urls.purl}},{key:"window",get:function(){return this._window}},{key:"abgUrl",get:function(){return this._urls.abg},set:function(e){if(!m.isUrl(e))throw new Error("Invalid URL provided: "+e);this._urls.abg=e}},{key:"privacyUrl",get:function(){return this._urls.privacy},set:function(e){if(!m.isUrl(e))throw new Error("Invalid URL provided: "+e);this._urls.privacy=e}},{key:"env",get:function(){return this._env},set:function(e){if(!m.isEnvironmentSupported(e))throw new TypeError("Environment "+e+" is not supported. Please select one of "+i.getAvailable());this._env=e}},{key:"logging",get:function(){return this._logging},set:function(e){this._logging=e}},{key:"language",get:function(){return this._language.toUpperCase()},set:function(e){if(!m.isLanguageSupported(e)){var t="Unsupported language: "+e.toString()+". Allowed: "+c.getAvailable().join(", ");throw new TypeError(t)}this._language=e}},{key:"flow",get:function(){return this._flow},set:function(e){if(!m.isFlowAllowed(e)){var t="Flow not allowed: "+e.toString()+". Select one of: "+l.getAllowed().join(", ");throw new TypeError(t)}this._flow=e}},{key:"host",get:function(){return this._host},set:function(e){this._host=e}},{key:"token",get:function(){return this._token},set:function(e){this._token=e}},{key:"promoCode",get:function(){return this._promoCode},set:function(e){this._promoCode=e}},{key:"wmId",get:function(){return this._wmId},set:function(e){this._wmId=e}},{key:"wmSubRef",get:function(){return this._wmSubRef},set:function(e){this._wmSubRef=e}},{key:"wmToken",get:function(){return this._wmToken},set:function(e){this._wmToken=e}},{key:"adtv",get:function(){return this._adtv},set:function(e){this._adtv=e}},{key:"subRef",get:function(){return this._subRef},set:function(e){this._subRef=e}},{key:"apiVersion",get:function(){return this._apiVersion},set:function(e){this._apiVersion=parseInt(e,10)}},{key:"modalConfig",get:function(){return this._modalConfig},set:function(e){if(!(e instanceof y))throw new TypeError("Modal config value should be instance of VXPayModalConfig!");this._modalConfig=e}},{key:"pfm",get:function(){return this._pfm},set:function(e){this._pfm=e}},{key:"enableTab",get:function(){return this._enableTab},set:function(e){this._enableTab=e}}]),e}();V.ABG_DEFAULT="https://www.visit-x.net/CAMS/{language}/Info/Zentrum.html?submod=AGB&track=Account",V.PRIVACY_DEFAULT="https://www.visit-x.net/CAMS/{language}/Info/Zentrum.html?submod=Datenschutz&track=Index";var M=V;function U(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var G=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=t||!1,this._container=[],this._window=n}return function(e,t,n){t&&U(e.prototype,t),n&&U(e,n)}(e,[{key:"log",value:function(){if(this.enabled)return void 0!==this._window?this._window.console.log.apply(this,arguments):void this._container.push({time:new Date,message:JSON.stringify(arguments)})}},{key:"container",get:function(){return this._container}}]),e}();G.LOG_INCOMING="<-- []",G.LOG_OUTGOING="--\x3e []";var H=G;function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t}return function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(e,[{key:"toString",value:function(){return JSON.stringify(this)}}],[{key:"getValidTypes",value:function(){return[e.TYPE_INIT_SESSION,e.TYPE_UPDATE_PARAMS,e.TYPE_IS_VISIBLE,e.TYPE_ADDITIONAL_INFO,e.TYPE_CHANGE_ROUTE,e.TYPE_HOOK,e.TYPE_SCROLL_TO,e.TYPE_SUCCESS,e.TYPE_IFRAME_CLOSE,e.TYPE_IFRAME_READY,e.TYPE_VIEW_READY,e.TYPE_TRANSFER_TOKEN,e.TYPE_CONTENT_LOADED,e.TYPE_ACTION_GET_ACTIVE_ABOS,e.TYPE_ACTION_LOGOUT,e.TYPE_ACTION_GET_AVS_STATUS,e.TYPE_ACTION_GET_BALANCE,e.TYPE_ACTION_IS_LOGGED_IN,e.TYPE_HAS_LOGIN_COOKIE,e.TYPE_BALANCE,e.TYPE_AVS_STATUS,e.TYPE_IS_LOGGED_IN]}}]),e}();x.TYPE_HOOK="modalbox-hook",x.TYPE_SCROLL_TO="modalbox-scrollto",x.TYPE_SUCCESS="modalbox-success",x.TYPE_IFRAME_CLOSE="modalbox-iframe-close",x.TYPE_IFRAME_READY="modalbox-iframe-ready",x.TYPE_VIEW_READY="modalbox-view-ready",x.TYPE_TRANSFER_TOKEN="modalbox-transfer-token",x.TYPE_CONTENT_LOADED="modalbox-content-loaded",x.TYPE_INIT_SESSION="modalbox-init-session",x.TYPE_UPDATE_PARAMS="modalbox-update-params",x.TYPE_IS_VISIBLE="modalbox-is-visible",x.TYPE_ADDITIONAL_INFO="modalbox-additional-info",x.TYPE_CHANGE_ROUTE="modalbox-change-route",x.TYPE_HAS_LOGIN_COOKIE="modalbox-response-hasLoginCookie",x.TYPE_IS_LOGGED_IN="modalbox-response-isLoggedIn",x.TYPE_AVS_STATUS="modalbox-response-getavsstatus",x.TYPE_BALANCE="modalbox-response-getbalance",x.TYPE_ACTIVE_ABOS="modalbox-response-getactiveabos",x.TYPE_LOGGED_OUT="modalbox-response-logout",x.TYPE_ACTION_GET_ACTIVE_ABOS="modalbox-action-getactiveabos",x.TYPE_ACTION_LOGOUT="modalbox-action-logout",x.TYPE_ACTION_GET_AVS_STATUS="modalbox-action-getavsstatus",x.TYPE_ACTION_IS_LOGGED_IN="modalbox-action-isLoggedIn",x.TYPE_ACTION_GET_BALANCE="modalbox-action-getbalance",x.TRANSFER_TOKEN_PREFIX="transfer_token:";var X=x;function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=K(this,W(t).call(this,X.TYPE_HAS_LOGIN_COOKIE))).hasCookie=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,X),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ee=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),q(this,Z(t).call(this,X.TYPE_CONTENT_LOADED))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,X),t}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ie=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.HOOK_UNKNOWN;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ne(this,oe(t).call(this,X.TYPE_HOOK))).hook=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,X),t}();ie.HOOK_UNKNOWN="dummy-unknown",ie.HOOK_FLOW_CHANGED="flowChanged",ie.HOOK_LOGIN="login",ie.HOOK_PAYMENT="payment",ie.HOOK_SIGNUP="signup",ie.HOOK_COMFORT_SETTINGS_CHANGED="comfortSettingsChanged",ie.HOOK_EMAIL_VERIFIED="emailVerified",ie.HOOK_EMAIL_NOT_VERIFIED="emailNotVerified",ie.HOOK_PASSWORD_CHANGED="passwordChanged";var ue=ie;function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=ce(this,se(t).call(this,ue.HOOK_FLOW_CHANGED))).oldFlow=n,e.newFlow=o,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(t,ue),t}();function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var de=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),he(this,ye(t).call(this,ue.HOOK_LOGIN))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,ue),t}();function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),me(this,ge(t).call(this,ue.HOOK_PAYMENT))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,ue),t}();function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ee(this,Se(t).call(this,ue.HOOK_SIGNUP))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,ue),t}();function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ce=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ke(this,Ie(t).call(this,ue.HOOK_COMFORT_SETTINGS_CHANGED))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,ue),t}();function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(this,je(t).call(this,ue.HOOK_EMAIL_VERIFIED))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,ue),t}();function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var He=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Me(this,Ue(t).call(this,ue.HOOK_EMAIL_NOT_VERIFIED))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(t,ue),t}();function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xe(this,Xe(t).call(this,ue.HOOK_PASSWORD_CHANGED))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,ue),t}();function We(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Qe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&We(e.prototype,t),n&&We(e,n)}(e,null,[{key:"fromData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===e||!e.hasOwnProperty("hook"))throw new TypeError("Invalid message format - no hook field");switch(e.hook){case ue.HOOK_FLOW_CHANGED:return new le(e.prevFlow,e.flow);case ue.HOOK_LOGIN:return new de;case ue.HOOK_PAYMENT:return new ve;case ue.HOOK_SIGNUP:return new Te;case ue.HOOK_COMFORT_SETTINGS_CHANGED:return new Ce;case ue.HOOK_EMAIL_VERIFIED:return new De;case ue.HOOK_EMAIL_NOT_VERIFIED:return new He;case ue.HOOK_PASSWORD_CHANGED:return new Ke;default:return new ue}}}]),e}();function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Je(this,qe(t).call(this,X.TYPE_IFRAME_READY))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,X),t}();function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),tt(this,nt(t).call(this,X.TYPE_VIEW_READY))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,X),t}();function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var st=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ut(this,at(t).call(this,X.TYPE_TRANSFER_TOKEN))).token=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,X),t}();function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=lt(this,pt(t).call(this,X.TYPE_IFRAME_CLOSE))).data=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(t,X),t}();function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t){return!t||"object"!==_t(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dt(this,bt(t).call(this,X.TYPE_IS_VISIBLE))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,X),t}();function Ot(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var vt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._balance=NaN,this._fsk18=!1,this._nickname="",this._userId=NaN,this._uhash=""}return function(e,t,n){t&&Ot(e.prototype,t),n&&Ot(e,n)}(e,[{key:"balance",get:function(){return this._balance},set:function(e){this._balance=e}},{key:"fsk18",get:function(){return this._fsk18},set:function(e){this._fsk18=e}},{key:"nickname",get:function(){return this._nickname},set:function(e){this._nickname=e}},{key:"userId",get:function(){return this._userId},set:function(e){this._userId=e}},{key:"uhash",get:function(){return this._uhash},set:function(e){this._uhash=e}}]),e}();function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){return!t||"object"!==wt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Tt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.USER_DATA_STRUCT;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Et(this,St(t).call(this,X.TYPE_SUCCESS))).user=new vt,e.user.balance=n.availableMoney||0,e.user.nickname=n.screenname||"",e.user.fsk18=n.fsk18||!1,e.user.userId=n.userId||NaN,e.user.uhash=n.uhash||"",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(t,X),t}();Tt.USER_DATA_STRUCT={success:!0,userFromLogin:!1,userFromSignup:!1,flow:"login",hostId:null,screenname:"user123",userId:9876789087,isLoggedIn:!0,transferToken:"TT_7a9523c9-5555-4c48-5555-91cc2465f484",availableMoney:12.34,fsk18:!1,uhash:""};var At=Tt;function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function It(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=It(this,Nt(t).call(this,X.TYPE_IS_LOGGED_IN))).loggedIn=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(t,X),t}();function Lt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fsk18=!1}return function(e,t,n){t&&Lt(e.prototype,t),n&&Lt(e,n)}(e,[{key:"fsk18",get:function(){return this._fsk18},set:function(e){this._fsk18=e}}],[{key:"fromData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new e;return n.fsk18=t.fsk18||!1,n}}]),e}();function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ut=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new jt;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Dt(this,Vt(t).call(this,X.TYPE_AVS_STATUS))).status=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,X),t}();function Gt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Ht=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Gt(e.prototype,t),n&&Gt(e,n)}(e,null,[{key:"getDefault",value:function(){return e.EUR}},{key:"getAllowed",value:function(){return[e.EUR,e.USD,e.CHF]}}]),e}();Ht.EUR="EUR",Ht.USD="USD",Ht.CHF="CHF";var Yt=Ht;function xt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Xt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.EUR;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._amount=t,this._currency=n}return function(e,t,n){t&&xt(e.prototype,t),n&&xt(e,n)}(e,[{key:"toString",value:function(){return this._amount.toFixed(2)+" "+this._currency}},{key:"amount",get:function(){return this._amount}},{key:"currency",get:function(){return this._currency}}]),e}();function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Wt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Wt(this,Qt(t).call(this,X.TYPE_BALANCE))).balance=new Xt,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(t,X),function(e,t,n){t&&Kt(e.prototype,t),n&&Kt(e,n)}(t,null,[{key:"fromData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.SAMPLE_DATA,n=new t;return n.balance=new Xt(e.balance,e.currency),n}}]),t}();Jt.SAMPLE_DATA={balance:0,currency:Yt.EUR};var qt=Jt;function Zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var $t=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._amount=0,this._endDate=0,this._isActive=!1,this._isFreeAbo=!1,this._isPaidAbo=!0,this._isTrialAbo=!0,this._name=""}return function(e,t,n){t&&Zt(e.prototype,t),n&&Zt(e,n)}(e,[{key:"amount",get:function(){return this._amount},set:function(e){this._amount=e}},{key:"endDate",get:function(){return this._endDate},set:function(e){this._endDate=e}},{key:"isActive",get:function(){return this._isActive},set:function(e){this._isActive=e}},{key:"isFreeAbo",get:function(){return this._isFreeAbo},set:function(e){this._isFreeAbo=e,this._isPaidAbo=!e}},{key:"isPaidAbo",get:function(){return this._isPaidAbo},set:function(e){this._isPaidAbo=e,this._isFreeAbo=!e}},{key:"isTrialAbo",get:function(){return this._isTrialAbo},set:function(e){this._isTrialAbo=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}}]),e}();function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nn(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var un=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=nn(this,on(t).call(this,X.TYPE_ACTIVE_ABOS))).abos=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,X),function(e,t,n){t&&tn(e.prototype,t),n&&tn(e,n)}(t,[{key:"add",value:function(e){this.abos.push(e)}}],[{key:"fromData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.SAMPLE_DATA,n=new t;return Object.keys(e).forEach(function(t){var o=new $t;o.amount=e[t].amount,o.endDate=e[t].endDate,o.isActive=e[t].isActive,o.isFreeAbo=e[t].isFreeAbo,o.isPaidAbo=e[t].isPaidAbo,o.isTrialAbo=e[t].isTrialAbo,o.name=e[t].name,n.add(o)}),n}}]),t}();un.SAMPLE_DATA={name:{amount:0,endDate:{},isActive:!0,isFreeAbo:!1,isPaidAbo:!0,isTrialAbo:!0,name:"Abo"}};var an=un;function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){return!t||"object"!==cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sn(this,fn(t).call(this,X.TYPE_LOGGED_OUT))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,X),t}();function hn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var yn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&hn(e.prototype,t),n&&hn(e,n)}(e,null,[{key:"fromJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",t=JSON.parse(e);if(!t.hasOwnProperty("type"))throw new TypeError("Invalid message format - no type field");switch(t.type){case X.TYPE_HAS_LOGIN_COOKIE:return new z(!!t.data);case X.TYPE_AVS_STATUS:return new Ut(jt.fromData(t.data));case X.TYPE_BALANCE:return qt.fromData(t.data);case X.TYPE_LOGGED_OUT:return new pn;case X.TYPE_ACTIVE_ABOS:return an.fromData(t.data);case X.TYPE_CONTENT_LOADED:return new ee;case X.TYPE_IFRAME_READY:return new $e;case X.TYPE_HOOK:return Qe.fromData(t.data);case X.TYPE_VIEW_READY:return new rt;case X.TYPE_IFRAME_CLOSE:return new yt(t.data);case X.TYPE_IS_VISIBLE:return new gt;case X.TYPE_SUCCESS:return new At(t.data);case X.TYPE_IS_LOGGED_IN:return new Rt(t.data)}if(0===t.type.indexOf(X.TRANSFER_TOKEN_PREFIX)){var n=t.type.substr(X.TRANSFER_TOKEN_PREFIX.length);return new st(n)}var o=new X(t.type);return o.raw=e,o}}]),e}();function _n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var dn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._onAny=[],this._onBeforeSend=[],this._onLoad=[]}return function(e,t,n){t&&_n(e.prototype,t),n&&_n(e,n)}(e,[{key:"onLoad",value:function(e){return this._onLoad.push(e),this}},{key:"onAny",value:function(e){return this._onAny.push(e),this}},{key:"onBeforeSend",value:function(e){return this._onBeforeSend.push(e),this}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(arguments.length>2&&void 0!==arguments[2]&&arguments[2],"_"+e);if(!this.hasOwnProperty(n))throw new Error("Hook "+e+" not available!");return 0===this[n].length||(this[n].map(function(e){e.apply(e,t)}),!0)}}]),e}();dn.ON_LOAD="onLoad",dn.ON_ANY="onAny",dn.ON_BEFORE_SEND="onBeforeSend";var bn=dn;function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){return!t||"object"!==mn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gn(this,On(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(t,bn),t}();function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Pn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e,t,n){return(Tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=An(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var In=function(e){function t(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.NAME,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.STYLE_DEFAULT;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=Pn(this,An(t).call(this,e,n,r,i)))._cookieMsg=null,o._frame.name="vxpay-helper",o._hooks=new wn,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(t,C),function(e,t,n){t&&Sn(e.prototype,t),n&&Sn(e,n)}(t,[{key:"_cookieMessageHandler",value:function(e,t,n){n.origin&&-1===C.ORIGIN_VX.indexOf(n.origin)&&t("Event origin does not match: "+n.origin);try{this._cookieMsg=yn.fromJson(n.data)}catch(e){this._cookieMsg=new z}this._hooks.trigger(bn.ON_ANY,[this._cookieMsg],this._frame.id+"<VXPayHelperFrame>"),e(this._cookieMsg)}},{key:"getLoginCookie",value:function(){var e=this;return new Promise(function(t,n){null!==e._cookieMsg&&t(e._cookieMsg),v.addEvent(C.EVENT_MESSAGE,e._frame.ownerDocument.defaultView,e._cookieMessageHandler.bind(e,t,n))})}},{key:"_markLoaded",value:function(){Tn(An(t.prototype),"_markLoaded",this).call(this),this._hooks.trigger(wn.ON_LOAD,[],this._frame.id+"<VXPayHelperFrame>")}},{key:"postMessage",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";this._hooks.trigger(wn.ON_BEFORE_SEND,[e],this._frame.id+"<VXPayHelperFrame>"),Tn(An(t.prototype),"postMessage",this).call(this,e,n)}},{key:"triggerLoad",value:function(){this._loaded||this._frame.ownerDocument.getElementsByTagName("body").item(0).appendChild(this._frame)}},{key:"hooks",get:function(){return this._hooks}}]),t}();In.STYLE_DEFAULT={display:"none"},In.NAME="vx-helper-frame-payment";var Nn=In;function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){return!t||"object"!==Cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ln(e){return(Ln=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Rn(this,Ln(t).call(this,X.TYPE_INIT_SESSION))).token=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(t,X),t}();function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Vn(this,Mn(t).call(this,X.TYPE_UPDATE_PARAMS))).options=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(t,X),t}();function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=Yn(this,xn(t).call(this,X.TYPE_CHANGE_ROUTE)),n.length>0&&(e.route=n),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(t,X),t}();function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qn(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Qn(this,zn(t).call(this)))._onViewReady=[],e._onContentLoaded=[],e._onClose=[],e._onSuccess=[],e._onIframeReady=[],e._onLogin=[],e._onLogout=[],e._onFlowChange=[],e._onIsLoggedIn=[],e._onTransferToken=[],e._onAVSStatus=[],e._onBalance=[],e._onActiveAbos=[],e._onPayment=[],e._onSignup=[],e._onComfortSettingsChanged=[],e._onEmailVerified=[],e._onEmailNotVerified=[],e._onPasswordChanged=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jn(e,t)}(t,bn),function(e,t,n){t&&Wn(e.prototype,t),n&&Wn(e,n)}(t,[{key:"onLogout",value:function(e){return this._onLogout.push(e),this}},{key:"hasOnLogout",value:function(e){return-1!==this._onLogout.indexOf(e)}},{key:"onActiveAbos",value:function(e){return this._onActiveAbos.push(e),this}},{key:"hasOnActiveAbos",value:function(e){return-1!==this._onActiveAbos.indexOf(e)}},{key:"onBalance",value:function(e){return this._onBalance.push(e),this}},{key:"hasOnBalance",value:function(e){return-1!==this._onBalance.indexOf(e)}},{key:"onAVSStatus",value:function(e){this._onAVSStatus.push(e)}},{key:"hasOnAVSStatus",value:function(e){return-1!==this._onAVSStatus.indexOf(e)}},{key:"onIsLoggedIn",value:function(e){return this._onIsLoggedIn.push(e),this}},{key:"hasOnIsLoggedIn",value:function(e){return-1!==this._onIsLoggedIn.indexOf(e)}},{key:"onTransferToken",value:function(e){return this._onTransferToken.push(e),this}},{key:"hasOnTransferToken",value:function(e){return-1!==this._onTransferToken.indexOf(e)}},{key:"onFlowChange",value:function(e){return this._onFlowChange.push(e),this}},{key:"onLogin",value:function(e){return this._onLogin.push(e),this}},{key:"onIframeReady",value:function(e){return this._onIframeReady.push(e),this}},{key:"onClose",value:function(e){return this._onClose.push(e),this}},{key:"onSuccess",value:function(e){return this._onSuccess.push(e),this}},{key:"onViewReady",value:function(e){return this._onViewReady.push(e),this}},{key:"onContentLoaded",value:function(e){return this._onContentLoaded.push(e),this}},{key:"onPayment",value:function(e){return this._onPayment.push(e),this}},{key:"onSignup",value:function(e){return this._onSignup.push(e),this}},{key:"onComfortSettingsChanged",value:function(e){return this._onComfortSettingsChanged.push(e),this}},{key:"onEmailVerified",value:function(e){return this._onEmailVerified.push(e),this}},{key:"onEmailNotVerified",value:function(e){return this._onEmailNotVerified.push(e),this}},{key:"onPasswordChanged",value:function(e){return this._onPasswordChanged.push(e),this}}]),t}();qn.ON_VIEW_READY="onViewReady",qn.ON_IFRAME_READY="onIframeReady",qn.ON_CONTENT_LOADED="onContentLoaded",qn.ON_CLOSE="onClose",qn.ON_SUCCESS="onSuccess",qn.ON_LOGIN="onLogin",qn.ON_LOGOUT="onLogout",qn.ON_FLOW_CHANGE="onFlowChange",qn.ON_IS_LOGGED_IN="onIsLoggedIn",qn.ON_TRANSFER_TOKEN="onTransferToken",qn.ON_AVS_STATUS="onAVSStatus",qn.ON_BALANCE="onBalance",qn.ON_ACTIVE_ABOS="onActiveAbos",qn.ON_PAYMENT="onPayment",qn.ON_SIGNUP="onSignup",qn.ON_COMFORT_SETTINGS_CHANGE="onComfortSettingsChanged",qn.ON_EMAIL_VERIFIED="onEmailVerified",qn.ON_EMAIL_NOT_VERIFIED="onEmailNotVerified",qn.ON_PASSWORD_CHANGED="onPasswordChanged";var Zn=qn,$n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(t.origin&&-1===C.ORIGIN_VX.indexOf(t.origin))return!1;var o=yn.fromJson(t.data);switch(e.trigger(Zn.ON_ANY,[o],n),o.type){case X.TYPE_TRANSFER_TOKEN:return e.trigger(Zn.ON_TRANSFER_TOKEN,[o],n);case X.TYPE_AVS_STATUS:return e.trigger(Zn.ON_AVS_STATUS,[o],n);case X.TYPE_BALANCE:return e.trigger(Zn.ON_BALANCE,[o],n);case X.TYPE_ACTIVE_ABOS:return e.trigger(Zn.ON_ACTIVE_ABOS,[o],n);case X.TYPE_IFRAME_READY:return e.trigger(Zn.ON_IFRAME_READY,[o],n);case X.TYPE_CONTENT_LOADED:return e.trigger(Zn.ON_CONTENT_LOADED,[o],n);case X.TYPE_VIEW_READY:return e.trigger(Zn.ON_VIEW_READY,[o],n);case X.TYPE_IFRAME_CLOSE:return e.trigger(Zn.ON_CLOSE,[o],n);case X.TYPE_SUCCESS:return e.trigger(Zn.ON_SUCCESS,[o],n);case X.TYPE_IS_LOGGED_IN:return e.trigger(Zn.ON_IS_LOGGED_IN,[o],n);case X.TYPE_LOGGED_OUT:return e.trigger(Zn.ON_LOGOUT,[o],n);case X.TYPE_HOOK:switch(o.hook){case ue.HOOK_LOGIN:return e.trigger(Zn.ON_LOGIN,[o],n);case ue.HOOK_FLOW_CHANGED:return e.trigger(Zn.ON_FLOW_CHANGE,[o],n);case ue.HOOK_PAYMENT:return e.trigger(Zn.ON_PAYMENT,[o],n);case ue.HOOK_SIGNUP:return e.trigger(Zn.ON_SIGNUP,[o],n);case ue.HOOK_COMFORT_SETTINGS_CHANGED:return e.trigger(Zn.ON_COMFORT_SETTINGS_CHANGE,[o],n);case ue.HOOK_EMAIL_VERIFIED:return e.trigger(Zn.ON_EMAIL_VERIFIED,[o],n);case ue.HOOK_EMAIL_NOT_VERIFIED:return e.trigger(Zn.ON_EMAIL_NOT_VERIFIED,[o],n);case ue.HOOK_PASSWORD_CHANGED:return e.trigger(Zn.ON_PASSWORD_CHANGED,[o],n)}}};function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t){return!t||"object"!==eo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ro=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=to(this,no(t).call(this,X.TYPE_ADDITIONAL_INFO))).options=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(t,X),t}();function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ao(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function co(e,t,n){return(co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=so(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lo=function(e){function t(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.NAME,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=Object.assign({},t.getDefaultStyles(e),i),(o=ao(this,so(t).call(this,e,n,r,i)))._frame.allowTransparency=!0,o._frame.name="vxpay",o._hooks=new Zn,o._sessionInitialized=!1,o.startListening(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(t,C),function(e,t,n){t&&uo(e.prototype,t),n&&uo(e,n)}(t,[{key:"triggerLoad",value:function(){this._loaded||this._frame.ownerDocument.getElementsByTagName("body").item(0).appendChild(this._frame)}},{key:"startListening",value:function(){var e=this;v.addEvent(C.EVENT_MESSAGE,this._frame.ownerDocument.defaultView,function(t){return $n(e._hooks,t,e._frame.id+"<VXPayPaymentFrame>")}),v.addEvent(C.EVENT_UNLOAD,this._frame.ownerDocument.defaultView,this.stopListening.bind(this))}},{key:"stopListening",value:function(){var e=this;v.removeEvent(C.EVENT_MESSAGE,this._frame.ownerDocument.defaultView,function(t){return $n(e._hooks,t,e._frame.id+"<VXPayPaymentFrame>")}),v.removeEvent(C.EVENT_UNLOAD,this._frame.ownerDocument.defaultView,this.stopListening.bind(this))}},{key:"_markLoaded",value:function(){return co(so(t.prototype),"_markLoaded",this).call(this),this._hooks.trigger(Zn.ON_LOAD,this._frame.id+"<VXPayPaymentFrame>")}},{key:"postMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return this._hooks.trigger(Zn.ON_BEFORE_SEND,[e],this._frame.id+"<VXPayPaymentFrame>"),null!==this._frame.contentWindow&&this._frame.contentWindow.postMessage(e.toString(),t),this}},{key:"initSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._sessionInitialized?this:(e=e||null,this.postMessage(new Fn(e)),this._sessionInitialized=!0,this)}},{key:"sendOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postMessage(new Gn(e)),this}},{key:"sendAdditionalOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postMessage(new ro(e)),this}},{key:"sendUpdateParams",value:function(e){return this.postMessage(new Gn(e)),this}},{key:"changeRoute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.postMessage(new Bn(e))}},{key:"setVisible",value:function(){this.postMessage(new gt)}},{key:"hooks",get:function(){return this._hooks}}],[{key:"getDefaultStyles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=void 0!==e?e.defaultView.navigator.userAgent:"",n=new F(t),o=void 0!==e?e.getElementsByTagName("body").item(0):null,r={border:"none",width:"100%",height:"100%",top:"50%",left:"50%",marginLeft:"-325px",zIndex:10001,display:"none",transform:"translate(-50%, -50%)"};return r.position=n.isMobile()?C.POSITION_ABSOLUTE:C.POSITION_FIXED,void 0!==e&&S.isStyleAttributeSuppored(o,"maxHeight","100vh")?r.maxHeight="100vh":n.isMobile()&&(r.maxHeight=S.getClientHeight(e.defaultView)+"px"),r}}]),t}();lo.NAME="vx-payment-frame-payment";var po=lo;function ho(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var yo=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._document=t,this._hooks=new Zn,this._loaded=!1,this._name=n,this._config=o,this._route=e.DEFAULT_ROUTE,this._promise=null,this._window=null,this._invisibleFrame=new po(t,o.getPaymentFrameUrl(),po.NAME+"_hidden"),this._invisibleFrame.triggerLoad()}return function(e,t,n){t&&ho(e.prototype,t),n&&ho(e,n)}(e,[{key:"triggerLoad",value:function(){this.getNewTab().then(this.startListening.bind(this))}},{key:"getNewTab",value:function(){var e=this,t=this._config.getPaymentFrameUrl()+"#"+this._route;return null==this._promise&&(this._promise=new Promise(function(n){if(null!==e._window&&!e._window.closed)return n(e._window);e._window=e._document.defaultView.open(t,e._name),n(e._window)})),this._promise}},{key:"startListening",value:function(e){var t=this;return v.addEvent(C.EVENT_MESSAGE,this._document.defaultView,function(e){return $n(t._hooks,e,t._name+"<VXPayPaymentTab>")}),v.addEvent(C.EVENT_UNLOAD,this._document.defaultView,this.stopListening.bind(this)),e}},{key:"stopListening",value:function(){var e=this;v.removeEvent(C.EVENT_MESSAGE,this._document.defaultView,function(t){return $n(e._hooks,t,e._name+"<VXPayPaymentTab>")}),v.removeEvent(C.EVENT_UNLOAD,this._document.defaultView,this.stopListening.bind(this))}},{key:"sendOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._config.merge(e),this._invisibleFrame.sendOptions(e),this}},{key:"sendAdditionalOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._config.merge(e),this._invisibleFrame.sendAdditionalOptions(e),this}},{key:"sendUpdateParams",value:function(e){return this.postMessage(new Gn(e)),this}},{key:"postMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";return this._hooks.trigger(Zn.ON_BEFORE_SEND,[e],this._name+"<VXPayPaymentTab>"),null!==this._window&&this._loaded?this._window.postMessage(e.toString(),t):this._invisibleFrame.postMessage(e,t),this}},{key:"initSession",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return this._invisibleFrame.initSession(e),this}},{key:"changeRoute",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_ROUTE;return this._route=t,this._invisibleFrame.changeRoute(t),this}},{key:"setVisible",value:function(){this.triggerLoad()}},{key:"show",value:function(){return this.triggerLoad(),this}},{key:"hide",value:function(){return this._window&&!this._window.closed&&this._window.close(),this._loaded=!1,this._route=e.DEFAULT_ROUTE,this._promise=null,this}},{key:"document",get:function(){return this._document}},{key:"name",get:function(){return this._name}},{key:"config",get:function(){return this._config}},{key:"loaded",get:function(){return this._loaded}},{key:"route",get:function(){return this._route}},{key:"hooks",get:function(){return this._invisibleFrame.hooks}}]),e}();yo.NAME="vx-payment-tab-payment",yo.DEFAULT_ROUTE="/";var _o=yo,bo=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.logger.log("VXPayInitPaymentMiddleware()",n),e.state.isContentLoaded?(e.logger.log("VXPayInitPaymentMiddleware() - already loaded, resolve ..."),t(e)):e.state.isFrameInProgress&&!n?(e.logger.log("VXPayInitPaymentMiddleware() - already in progress, resolve ...",e),t(e)):(e.state.isFrameInProgress=n,e.hasOwnProperty("_paymentFrame")||(e._paymentFrame=e.config.enableTab?new _o(e.window.document,_o.NAME,e.config):new po(e.window.document,e.config.getPaymentFrameUrl(),po.NAME),e.config.logging&&e._paymentFrame.hooks.onAny(function(t){return e.logger.log(H.LOG_INCOMING,t)}).onBeforeSend(function(t){return e.logger.log(H.LOG_OUTGOING,t)})),void(e._paymentFrame.loaded||(e._paymentFrame.hooks.onIframeReady(e.state.markFrameReady.bind(e.state)).onContentLoaded(e.state.markContentLoaded.bind(e.state)).onTransferToken(e.state.markHasToken.bind(e.state)).onTransferToken(e.config.setTokenFromMessage.bind(e.config)).onFlowChange(e.config.updateFlow.bind(e.config)).onViewReady(e._paymentFrame.setVisible.bind(e._paymentFrame)).onViewReady(e._paymentFrame.show.bind(e._paymentFrame)).onSuccess(e._paymentFrame.hide.bind(e._paymentFrame)).onSuccess(e.state.reset).onClose(e._paymentFrame.hide.bind(e._paymentFrame)).onClose(e.state.reset).onContentLoaded(function(){return t(e)}),n?(e.logger.log("VXPayInitPaymentMiddleware() - not loaded yet, trigger load"),e._paymentFrame.url=e.config.getPaymentFrameUrl(),e._paymentFrame.triggerLoad()):t(e))))},mo=function(e,t){return void 0!==e.helperFrame?t(e):(e.helperFrame=new Nn(e.window.document,C.ORIGIN_VX+"/VXPAY-V"+e.apiVersion+"/helper"),e.config.logging&&e.helperFrame.hooks.onAny(function(t){return e.logger.log(H.LOG_INCOMING,t)}).onBeforeSend(function(t){return e.logger.log(H.LOG_OUTGOING,t)}),e.helperFrame.triggerLoad(),t(e))};function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oo(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Eo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Oo(this,vo(t).call(this,X.TYPE_ACTION_IS_LOGGED_IN))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(t,X),t}(),So=function(e,t,n){try{e.state.isContentLoaded?(e.hooks.then(function(e){e.hasOnIsLoggedIn(t)||e.onIsLoggedIn(t)}),e.paymentFrame.then(function(e){return e.postMessage(new Eo)})):e.initHelperFrame().then(function(e){return e.helperFrame.getLoginCookie()}).then(function(e){return t(new Rt(e.hasCookie))}).catch(function(e){return n(e)})}catch(e){n(e)}return e};function Po(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var To=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._vxpay=t,this._resolve=n,this._reject=o,this._handler=this.trigger.bind(this)}return function(e,t,n){t&&Po(e.prototype,t),n&&Po(e,n)}(e,[{key:"run",value:function(){var e=this;try{return this._vxpay.state.hasToken?(this._handler(),this._vxpay):(this._vxpay.hooks.then(function(t){t.hasOnTransferToken(e._handler)||t.onTransferToken(e._handler)}),this._vxpay)}catch(e){this._reject(e)}}},{key:"trigger",value:function(){So(this._vxpay,this._resolve,this._reject)}}]),e}(),Ao=function(e,t,n){try{return e.hooks.then(function(e){e.hasOnAVSStatus(t)||e.onAVSStatus(t)}),e}catch(e){n(e)}};function ko(e){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t){return!t||"object"!==ko(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ro=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Io(this,No(t).call(this,X.TYPE_ACTION_GET_AVS_STATUS))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}(t,X),t}(),Lo=function(e){var t=function(e){return e.postMessage(new Ro)};return e.state.hasToken?e.paymentFrame.then(t):e.hooks.then(function(n){n.onTransferToken(function(){return e.paymentFrame.then(t)})}),e},jo=function(e,t,n){try{return e.hooks.then(function(e){e.hasOnBalance(t)||e.onBalance(t)}),e}catch(e){n(e)}};function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vo(e){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Uo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Do(this,Vo(t).call(this,X.TYPE_ACTION_GET_BALANCE))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(t,X),t}(),Go=function(e){var t=function(e){return e.postMessage(new Uo)};return e.state.hasToken?e.paymentFrame.then(t):e.hooks.then(function(n){n.onTransferToken(function(){return e.paymentFrame.then(t)})}),e},Ho=function(e,t,n){try{e.hooks.then(function(e){e.hasOnActiveAbos(t)||e.onActiveAbos(t)})}catch(e){n(e)}return e};function Yo(e){return(Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){return!t||"object"!==Yo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xo(e){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bo(e,t){return(Bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ko=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xo(this,Xo(t).call(this,X.TYPE_ACTION_GET_ACTIVE_ABOS))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bo(e,t)}(t,X),t}(),Wo=function(e){var t=function(e){e.postMessage(new Ko)};return e.state.hasToken?e.paymentFrame.then(t):e.hooks.then(function(n){n.onTransferToken(function(){return e.paymentFrame.then(t)})}),e},Qo=function(e,t,n){try{return e.hooks.then(function(e){e.hasOnLogout(t)||e.onLogout(t)}),e}catch(e){n(e)}};function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){return!t||"object"!==zo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zo(e,t){return(Zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jo(this,qo(t).call(this,X.TYPE_ACTION_LOGOUT))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zo(e,t)}(t,X),t}(),er=function(e){var t=function(e){return e.postMessage(new $o)};return e.state.hasToken?e.paymentFrame.then(t):e.hooks.then(function(n){n.onTransferToken(function(){return e.paymentFrame.then(t)})}),e};function tr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var nr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}return function(e,t,n){t&&tr(e.prototype,t),n&&tr(e,n)}(e,[{key:"markFrameReady",value:function(){this._isFrameReady=!0,this._isFrameInProgress=!1}},{key:"markContentLoaded",value:function(){this._isContentLoaded=!0}},{key:"markHasToken",value:function(e){this._token=e}},{key:"markSessionInitialized",value:function(){this._isSessionInitialized=!0}},{key:"reset",value:function(){this._isFrameReady=!1,this._token=void 0,this._isContentLoaded=!1,this._isSessionInitialized=!1,this._isFrameInProgress=!1}},{key:"isFrameInProgress",get:function(){return this._isFrameInProgress},set:function(e){this._isFrameInProgress=e}},{key:"isFrameReady",get:function(){return this._isFrameReady},set:function(e){this._isFrameReady=e}},{key:"hasToken",get:function(){return void 0!==this._token}},{key:"isContentLoaded",get:function(){return this._isContentLoaded},set:function(e){this._isContentLoaded=e}},{key:"isSessionInitialized",get:function(){return this._isSessionInitialized},set:function(e){this._isSessionInitialized=e}},{key:"transferToken",get:function(){return this._token}}]),e}(),or=function(e){return e.logger.log("VXPayWhenTokenTransferred()"),new Promise(function(t,n){try{e.state.hasToken?t(e):e.hooks.then(function(n){return n.onTransferToken(function(){return t(e)})})}catch(e){n(e)}})};function rr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ir=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&rr(e.prototype,t),n&&rr(e,n)}(e,null,[{key:"getAllowed",value:function(){return[e.LOGIN,e.SIGN_UP,e.PAYMENT,e.ABO,e.AVS,e.PROMOCODE,e.OP_COMPENSATION,e.PASSWORD,e.PASSWORD_RESET,e.AUTO_RECHARGE,e.ONE_CLICK,e.SETTINGS,e.VOICE_CALL,e.LIMIT]}}]),e}();ir.LOGIN="/login",ir.SIGN_UP="/signup",ir.PAYMENT="/payment",ir.ABO="/abo",ir.AVS="/avs",ir.PROMOCODE="/promocode",ir.OP_COMPENSATION="/opcompensation",ir.PASSWORD="/password",ir.PASSWORD_RESET="/passwordreset",ir.AUTO_RECHARGE="/autorecharge",ir.ONE_CLICK="/comfort",ir.SETTINGS="/user/settings",ir.VOICE_CALL="/voicecall",ir.LIMIT="/limit";var ur=ir,ar=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOpenLoginCommand()"),e.paymentFrame.then(function(n){n.sendOptions({flow:l.LOGIN}),t&&n.sendUpdateParams(t),n.sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(ur.LOGIN).initSession()}),e},cr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOpenSignUpCommand()"),e.paymentFrame.then(function(n){return n.sendOptions({flow:l.LOGIN}),t&&n.sendUpdateParams(t),n.sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(ur.SIGN_UP).initSession()}),e};var sr=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};sr.VOICE_CALL="Voice",sr.CREDIT_CARD="CC",sr.LASTSCHRIFT="LS";var fr=sr;function lr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var pr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&lr(e.prototype,t),n&&lr(e,n)}(e,null,[{key:"run",value:function(t){return t.logger.log("VXPayOpenVoiceCallCommand::run()"),t.paymentFrame.then(function(n){return n.sendOptions(e.PARAMS).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(ur.VOICE_CALL).initSession()}),t}}]),e}();pr.PARAMS={flow:l.MONEY_CHARGE,paytype:fr.VOICE_CALL};var hr=pr;function yr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var _r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&yr(e.prototype,t),n&&yr(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.logger.log("VXPayOpenPaymentCommand()"),t.paymentFrame.then(function(o){o.sendOptions(e.PARAMS),n&&o.sendUpdateParams(n),o.sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(ur.PAYMENT).initSession()}),t}}]),e}();_r.PARAMS={flow:l.MONEY_CHARGE,paytype:""};var dr=_r;function br(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var mr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&br(e.prototype,t),n&&br(e,n)}(e,null,[{key:"run",value:function(t){return t.logger.log("VXPayOpenSettingsCommand()"),t.paymentFrame.then(function(n){return n.sendOptions(e.PARAMS).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(ur.SETTINGS).initSession()}),t}}]),e}();mr.PARAMS={flow:l.SETTINGS,paytype:""};var gr=mr,Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOpenAboCommand()"),e.paymentFrame.then(function(n){n.sendOptions({flow:l.VIP_ABO}),t&&n.sendUpdateParams(t),n.sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(ur.ABO).initSession()}),e};function vr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var wr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&vr(e.prototype,t),n&&vr(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.logger.log("VXPayResetPasswordCommand()"),t.paymentFrame.then(function(o){o.initSession().sendOptions(e.getParams(t.config)),n&&o.sendUpdateParams(n),o.sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(ur.PASSWORD_RESET)}),t}},{key:"getParams",value:function(e){var t=new d(e.window.URL);return{flow:l.PASSWORD_RESET,pwdresetUserId:t.getQueryParam("u",e.window.location.href),pwdresetUserName:t.getQueryParam("tpLoginPwdLost",e.window.location.href),pwdresetKey:t.getQueryParam("key",e.window.location.href)}}}]),e}();function Er(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Sr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Er(e.prototype,t),n&&Er(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.logger.log("VXPayLostPasswordCommand()"),t.paymentFrame.then(function(o){o.initSession().sendOptions(e.getParams(t.config)),n&&o.sendUpdateParams(n),o.sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(ur.PASSWORD)}),t}},{key:"getParams",value:function(e){var t=new d(e.window.URL);return{flow:l.PASSWORD_LOST,pwdresetUserId:t.getQueryParam("u",e.window.location.href),pwdresetUserName:t.getQueryParam("tpLoginPwdLost",e.window.location.href),pwdresetEmail:t.getQueryParam("tpEmailPwdLost",e.window.location.href)}}}]),e}();function Pr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Tr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Pr(e.prototype,t),n&&Pr(e,n)}(e,null,[{key:"run",value:function(t){return t.logger.log("VXPayOpenLimitedPaymentCommand()"),t.paymentFrame.then(function(n){return n.sendOptions(e.PARAMS).sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(ur.LIMIT).initSession()}),t}}]),e}();Tr.PARAMS={flow:l.LIMIT,paytype:""};var Ar=Tr,kr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOpenVipAboTrialCommand()"),e.paymentFrame.then(function(n){n.initSession().sendOptions({flow:l.TRIAL_VIP_ABO}),t&&n.sendUpdateParams(t),n.sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(ur.ABO)}),e},Ir=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOpenPaymentCommand()"),e.paymentFrame.then(function(n){n.initSession().sendOptions({flow:l.VXTV_ABO}),t&&n.sendUpdateParams(t),n.sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(ur.ABO)}),e},Nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOpenAVSCommand()"),e.paymentFrame.then(function(n){n.initSession().sendOptions({flow:l.AVS}),t&&n.sendUpdateParams(t),n.sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(ur.AVS)}),e},Cr=function(e,t){return e.logger.log("VXPayOpenPromoCodeCommand()"),e.paymentFrame.then(function(n){n.initSession().sendOptions({flow:l.PROMOCODE}),t&&n.sendUpdateParams(t),n.sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(ur.PROMOCODE)}),e};function Rr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Lr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Rr(e.prototype,t),n&&Rr(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.logger.log("VXPayOpenOneClickCommand()"),t.paymentFrame.then(function(o){o.initSession().sendOptions(e.PARAMS),n&&o.sendUpdateParams(n),o.sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(ur.ONE_CLICK)}),t}}]),e}();Lr.PARAMS={flow:l.ONE_CLICK,paytype:"",oneClickData:{data:null}};var jr=Lr;function Fr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Dr=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&Fr(e.prototype,t),n&&Fr(e,n)}(e,null,[{key:"run",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.logger.log("VXPayOpenAutoRechargeCommand()"),t.paymentFrame.then(function(o){o.initSession().sendOptions(e.PARAMS),n&&o.sendUpdateParams(n),o.sendAdditionalOptions(t.config.getAdditionalOptions()).changeRoute(ur.AUTO_RECHARGE)}),t}}]),e}();Dr.PARAMS={flow:l.AUTO_RECHARGE,autoRechargeData:{data:null}};var Vr=Dr,Mr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.logger.log("VXPayOpenOneClickCommand()"),e.paymentFrame.then(function(n){n.initSession().sendOptions({flow:l.OP_COMPENSATION}),t&&n.sendUpdateParams(t),n.sendAdditionalOptions(e.config.getAdditionalOptions()).changeRoute(ur.OP_COMPENSATION)}),e},Ur=function(e){return e.logger.log("VXPayTriggerShowForTab()"),e.config.enableTab&&e.paymentFrame.then(function(e){return e.show()}),e};function Gr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Hr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.logger=new H(this.config.logging,this.config.window),this._state=new nr,this.logger.log("VXPay::constructor - "+JSON.stringify(this.config.getOptions()))}return function(e,t,n){t&&Gr(e.prototype,t),n&&Gr(e,n)}(e,[{key:"initHelperFrame",value:function(){var e=this;return new Promise(function(t){return mo(e,t)})}},{key:"_initPaymentFrame",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.logger.log("VXPay::_initPaymentFrame",t),new Promise(function(n){return bo(e,n,t)})}},{key:"openLogin",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.logger.log("VXPay::openLogin"),new Promise(function(n,o){return e._initPaymentFrame().then(or).then(function(e){return ar(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openSignUp",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){return e._initPaymentFrame().then(or).then(function(e){return cr(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openVoiceCall",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(or).then(hr.run).then(Ur).then(t).catch(n)})}},{key:"openSignUpOrLogin",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.initHelperFrame().then(function(e){return e.helperFrame.getLoginCookie()}).then(function(n){return n.hasCookie?e.openLogin(t):e.openSignUp(t)})}},{key:"openPayment",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return dr.run(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openAbo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return Or(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openSettings",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(or).then(gr.run).then(Ur).then(t).catch(n)})}},{key:"resetPassword",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return wr.run(e,t)}).then(Ur).then(n).catch(o)})}},{key:"lostPassword",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return Sr.run(e,t)}).then(Ur).then(n).catch(o)})}},{key:"limitPayment",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(or).then(Ar.run).then(Ur).then(t).catch(n)})}},{key:"vipAboTrial",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return kr(e,t)}).then(Ur).then(n).catch(o)})}},{key:"premiumAbo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return Ir(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openAVS",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return Nr(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openPromoCode",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return Cr(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openScratchCard",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return Cr(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openOneClick",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return jr.run(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openAutoReCharge",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return Vr.run(e,t)}).then(Ur).then(n).catch(o)})}},{key:"openBalance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,o){e._initPaymentFrame().then(or).then(function(e){return Mr(e,t)}).then(Ur).then(n).catch(o)})}},{key:"isLoggedIn",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame(!e.config.enableTab).then(function(e){return new To(e,t,n).run()}).catch(n)})}},{key:"getAVSStatus",value:function(){var e=this;return new Promise(function(t,n){return e._initPaymentFrame().then(function(e){return Ao(e,t,n)}).then(Lo).catch(n)})}},{key:"getBalance",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(function(e){return jo(e,t,n)}).then(Go).catch(n)})}},{key:"getActiveAbos",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(function(e){return Ho(e,t,n)}).then(Wo).catch(n)})}},{key:"logout",value:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(function(e){return Qo(e,t,n)}).then(er).catch(n)})}},{key:"state",get:function(){return this._state}},{key:"config",get:function(){return this._config},set:function(e){if(!(e instanceof M))throw new TypeError("Please provide an instance of VXPayConfig!");void 0!==this._logger&&this._logger.log("VXPay::config -> ",e),this._config=e}},{key:"logger",get:function(){return this._logger},set:function(e){if(!(e instanceof H))throw new TypeError("Please provide an instance of VXPayLogger!");this._logger=e}},{key:"apiVersion",get:function(){return this.config.apiVersion},set:function(e){this.config.apiVersion=e}},{key:"hooks",get:function(){var e=this;return this.logger.log("VXPay::hooks"),new Promise(function(t,n){if(e.state.isContentLoaded)return e.logger.log("VXPay::hooks -> already loaded, resolve ..."),t(e._paymentFrame.hooks);e._initPaymentFrame(!1).then(function(e){return t(e._paymentFrame.hooks)}).catch(n)})}},{key:"paymentFrame",get:function(){var e=this;return new Promise(function(t,n){e._initPaymentFrame().then(function(e){return t(e._paymentFrame)}).catch(n)})},set:function(e){if(!(e instanceof po||e instanceof _o))throw new TypeError("Payment frame should be an instance of VXPayPaymentFrame or VXPayPaymentTab");this._paymentFrame=e}},{key:"helperFrame",get:function(){return this._helperFrame},set:function(e){if(!(e instanceof Nn))throw new TypeError("Helper frame should be an instance of VXPayHelperFrame");this._helperFrame=e}},{key:"window",get:function(){return this.config.window}}]),e}();var Yr=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};Yr.SESSION_ACKNOWLEDGE="ackSession",Yr.SESSION_EXPIRED="sessionExpired",Yr.MESSAGE="message",Yr.MESSAGE_PRICE="messagePrice",Yr.CHANNELS="channels",Yr.INCOMING_MESSAGE="incomingMessage",Yr.ALL_CHANNELS_SEEN="allChannelsSeen",Yr.CAN_ONECLICK_RESULT="canOneClickResult",Yr.CHARGE_AUTORECHARGE_RESULT="chargeAutoRechargeResult",Yr.CHARGE_ONECLICK_RESULT="chargeOneClickResult",Yr.FAVORITE_ACTOR_PINNED="FavoriteActorPinned",Yr.FAVORITE_ACTOR_UNPINNED="FavoriteActorUnpinned",Yr.FAVORITE_PICTURE_PINNED="FavoritePicturePinned",Yr.FAVORITE_PICTURE_UNPINNED="FavoritePictureUnpinned",Yr.FAVORITE_ALBUM_PINNED="FavoriteAlbumPinned",Yr.FAVORITE_ALBUM_UNPINNED="FavoriteAlbumUnpinned",Yr.FAVORITE_SEDCARDS_ALBUM_PINNED="FavoriteSedcardsAlbumPinned",Yr.FAVORITE_SEDCARDS_ALBUM_UNPINNED="FavoriteSedcardsAlbumUnpinned",Yr.FAVORITE_ACTORS="FavoriteActors",Yr.GUEST_BALANCE="guestBalance",Yr.NAVBAR_NOTIFICATIONS="navbarNotifications",Yr.ACTOR_ONLINE="actorOnline",Yr.ACTOR_OFFLINE="actorOffline",Yr.AVS_REVOKED="avsRevoked",Yr.AVS_SET="avsSet",Yr.GUEST_LOCKED="guestLocked",Yr.CHANNEL_ARCHIVED="channelArchived",Yr.SEND_SIGNUP_EMAIL_RESULT="sendSignupEmailResult",Yr.VIP_ABO_UPDATE="vipAboUpdate",Yr.VXTV_ABO_UPDATE="vxtvAboUpdate",Yr.VOICECALL_START="voicecallStart",Yr.VOICECALL_STOP="voicecallStop",Yr.WELCOME_BONUS_REDEEMED="welcomeBonusRedeemed",Yr.FREE_SHOW_START="freeShowStart",Yr.FREE_SHOW_STOP="freeShowStop",Yr.PONG="pong";var xr=Yr;n.d(t,"VXPay",function(){return Hr}),n.d(t,"VXPayConfig",function(){return M}),n.d(t,"VXPayEnvironment",function(){return i}),n.d(t,"VXPayLanguage",function(){return c}),n.d(t,"VXPayNotifications",function(){return xr}),n.d(t,"VXPayModalConfig",function(){return y}),n.d(t,"VXPayPaymentHooksConfig",function(){return Zn}),n.d(t,"VXPayFlow",function(){return l}),n.d(t,"VXPayCurrency",function(){return Yt})},0:function(e,t,n){e.exports=n("./src/main.js")}})});